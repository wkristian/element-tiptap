{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/utils/line_height.ts","webpack:///./src/extensions/paragraph.ts","webpack:///./src/components/MenuCommands/HeadingDropdown.vue?3179","webpack:///./src/utils/heading.ts","webpack:///./src/components/MenuCommands/HeadingDropdown.vue","webpack:///./src/components/MenuCommands/HeadingDropdown.vue?0431","webpack:///./src/components/MenuCommands/HeadingDropdown.vue?0cd8","webpack:///./src/extensions/heading.ts","webpack:///./src/extensions/blockquote.ts","webpack:///./src/extensions/code_block.ts","webpack:///./src/extensions/list_item.ts","webpack:///./src/components/ExtensionViews/ImageView.vue","webpack:///./src/extensions/bullet_list.ts","webpack:///./src/extensions/ordered_list.ts","webpack:///./src/components/MenuCommands/ImageCommandButton.vue?b62d","webpack:///./src/components/MenuCommands/ImageCommandButton.vue","webpack:///./src/components/MenuCommands/ImageCommandButton.vue?48fb","webpack:///./src/components/MenuCommands/ImageCommandButton.vue?8ea6","webpack:///./src/components/ExtensionViews/ImageView.vue?7e0e","webpack:///./src/utils/image.ts","webpack:///./src/components/ExtensionViews/ImageView.vue?ad50","webpack:///./src/components/ExtensionViews/ImageView.vue?9f24","webpack:///./src/extensions/image.ts","webpack:///./src/components/ExtensionViews/TodoItemView.vue?7986","webpack:///./src/components/ExtensionViews/TodoItemView.vue","webpack:///./src/components/ExtensionViews/TodoItemView.vue?3d92","webpack:///./src/components/ExtensionViews/TodoItemView.vue?eced","webpack:///./src/extensions/todo_item.ts","webpack:///./src/extensions/todo_list.ts","webpack:///./src/components/MenuCommands/TablePopover/index.vue?39c2","webpack:///./src/utils/table.ts","webpack:///./src/components/MenuCommands/TablePopover/CreateTablePopover.vue?4f79","webpack:///./src/components/MenuCommands/TablePopover/CreateTablePopover.vue","webpack:///./src/components/MenuCommands/TablePopover/CreateTablePopover.vue?9037","webpack:///./src/components/MenuCommands/TablePopover/CreateTablePopover.vue?8d6d","webpack:///./src/components/MenuCommands/TablePopover/index.vue","webpack:///./src/components/MenuCommands/TablePopover/index.vue?b22e","webpack:///./src/components/MenuCommands/TablePopover/index.vue?bbe9","webpack:///./src/extensions/table.ts","webpack:///./src/components/MenuCommands/IframeCommandButton.vue?12dc","webpack:///./src/components/MenuCommands/IframeCommandButton.vue","webpack:///./src/components/MenuCommands/IframeCommandButton.vue?21c5","webpack:///./src/components/MenuCommands/IframeCommandButton.vue?cd9b","webpack:///./src/extensions/iframe.ts","webpack:///./src/extensions/bold.ts","webpack:///./src/extensions/underline.ts","webpack:///./src/extensions/italic.ts","webpack:///./src/extensions/strike.ts","webpack:///./src/components/MenuCommands/AddLinkCommandButton.vue?fd41","webpack:///./src/components/MenuCommands/AddLinkCommandButton.vue","webpack:///./src/components/MenuCommands/AddLinkCommandButton.vue?6ca9","webpack:///./src/components/MenuCommands/AddLinkCommandButton.vue?9510","webpack:///./src/extensions/link.ts","webpack:///./src/utils/apply_mark.ts","webpack:///./src/components/MenuCommands/ColorPopover.vue?591e","webpack:///./src/components/MenuCommands/ColorPopover.vue","webpack:///./src/components/MenuCommands/ColorPopover.vue?3e33","webpack:///./src/components/MenuCommands/ColorPopover.vue?b5c6","webpack:///./src/extensions/text_color.ts","webpack:///./src/extensions/text_highlight.ts","webpack:///./src/extensions/horizontal_rule.ts","webpack:///./src/extensions/history.ts","webpack:///./src/utils/text_align.ts","webpack:///./src/extensions/text_align.ts","webpack:///./src/utils/indent.ts","webpack:///./src/utils/list.ts","webpack:///./src/extensions/indent.ts","webpack:///./src/utils/format_clear.ts","webpack:///./src/components/MenuCommands/LineHeightDropdown.vue?b1a5","webpack:///./src/components/MenuCommands/LineHeightDropdown.vue","webpack:///./src/components/MenuCommands/LineHeightDropdown.vue?4f44","webpack:///./src/components/MenuCommands/LineHeightDropdown.vue?ce5c","webpack:///./src/extensions/line_height.ts","webpack:///./src/extensions/format_clear.ts","webpack:///./src/components/MenuCommands/FullscreenCommandButton.vue?dce5","webpack:///./src/utils/fullscreen.ts","webpack:///./src/components/MenuCommands/FullscreenCommandButton.vue","webpack:///./src/components/MenuCommands/FullscreenCommandButton.vue?3d04","webpack:///./src/components/MenuCommands/FullscreenCommandButton.vue?c527","webpack:///./src/extensions/fullscreen.ts","webpack:///./src/utils/print.ts","webpack:///./src/extensions/print.ts","webpack:///./src/components/MenuCommands/PreviewCommandButton.vue?4b97","webpack:///./src/components/MenuCommands/PreviewCommandButton.vue","webpack:///./src/components/MenuCommands/PreviewCommandButton.vue?ac8e","webpack:///./src/components/MenuCommands/PreviewCommandButton.vue?20eb","webpack:///./src/extensions/preview.ts","webpack:///./src/extensions/select_all.ts","webpack:///./src/extensions/index.ts","webpack:///./examples/App.vue?369d","webpack:///./src/i18n/en/index.ts","webpack:///./src/i18n/zh/index.ts","webpack:///./src/i18n/pl/index.ts","webpack:///./src/i18n/index.ts","webpack:///./src/utils/console.ts","webpack:///./src/components/ElementTiptap.vue?6b0e","webpack:///./src/mixins/i18nMixin.ts","webpack:///./src/utils/shared.ts","webpack:///./src/constants.ts","webpack:///./src/components/ElementTiptap.vue?e72c","webpack:///./src/extensions/content_attributes.ts","webpack:///./src/components/MenuBar/index.vue?fc5c","webpack:///./src/components/MenuBar/index.vue","webpack:///./src/components/MenuBar/index.vue?a5b2","webpack:///./src/components/MenuBar/index.vue?c08e","webpack:///./src/components/MenuBubble/index.vue?a55a","webpack:///./src/components/MenuBubble/LinkBubbleMenu.vue?f2fb","webpack:///./src/components/MenuCommands/OpenLinkCommandButton.vue?298a","webpack:///./src/components/MenuCommands/OpenLinkCommandButton.vue","webpack:///./src/components/MenuCommands/OpenLinkCommandButton.vue?3378","webpack:///./src/components/MenuCommands/OpenLinkCommandButton.vue?8d77","webpack:///./src/components/MenuCommands/EditLinkCommandButton.vue?a052","webpack:///./src/components/MenuCommands/EditLinkCommandButton.vue","webpack:///./src/components/MenuCommands/EditLinkCommandButton.vue?50f9","webpack:///./src/components/MenuCommands/EditLinkCommandButton.vue?a421","webpack:///./src/components/MenuCommands/UnlinkCommandButton.vue?2317","webpack:///./src/components/MenuCommands/UnlinkCommandButton.vue","webpack:///./src/components/MenuCommands/UnlinkCommandButton.vue?bc22","webpack:///./src/components/MenuCommands/UnlinkCommandButton.vue?ad51","webpack:///./src/components/MenuBubble/LinkBubbleMenu.vue","webpack:///./src/components/MenuBubble/LinkBubbleMenu.vue?1374","webpack:///./src/components/MenuBubble/LinkBubbleMenu.vue?1a06","webpack:///./src/components/MenuBubble/index.vue","webpack:///./src/components/MenuBubble/index.vue?c130","webpack:///./src/components/MenuBubble/index.vue?0a3c","webpack:///./src/components/ElementTiptap.vue","webpack:///./src/components/ElementTiptap.vue?bc9f","webpack:///./src/components/ElementTiptap.vue?f0c5","webpack:///./src/components/MenuCommands/CommandButton.vue?5a05","webpack:///./src/components/MenuCommands/CommandButton.vue","webpack:///./src/components/MenuCommands/CommandButton.vue?eb6b","webpack:///./src/components/MenuCommands/CommandButton.vue?6a2d","webpack:///./src/components/MenuBubble/LinkBubbleMenu.vue?0ff7","webpack:///./examples/App.vue?b5b0","webpack:///./examples/App.vue","webpack:///./examples/router/index.js","webpack:///./examples/main.js","webpack:///./src/index.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","ALLOWED_NODE_TYPES","NUMBER_VALUE_PATTERN","isLineHeightActive","state","lineHeight","selection","doc","from","to","keepLooking","active","nodesBetween","node","nodeType","lineHeightValue","attrs","includes","transformLineHeightToCSS","strValue","String","test","numValue","parseFloat","Math","round","setTextLineHeight","tr","tasks","pos","forEach","task","setNodeMarkup","marks","createLineHeightCommand","dispatch","setSelection","docChanged","ParagraphNodeSpec","textAlign","default","indent","content","group","parseDOM","getAttrs","toDOM","dom","align","parseInt","style","cssLineHeight","toParagraphDOM","getParagraphNodeAttrs","render","_vm","this","_h","$createElement","_c","_self","on","editorContext","commands","heading","level","paragraph","isHeadingActive","staticClass","slot","class","isActive","_v","_s","_l","staticRenderFns","findHeading","editor","extensions","options","required","HeadingDropdown","components","CommandButton","i18nMixin","component","nodeName","match","Number","defining","draggable","levels","map","menuBtnView","componentProps","BlockquoteNodeSpec","command","blockquote","icon","tooltip","code_block","ListItemNodeSpec","ResizeDirection","bullet_list","ordered_list","openUrlPrompt","$event","imageUploadDialogVisible","uploadImage","image","prompt","confirmButtonText","cancelButtonText","inputPlaceholder","inputPattern","imageNodeOptions","urlPattern","inputErrorMessage","roundButton","url","catch","requestOptions","file","uploadRequest","ImageCommandButton","imageViewClass","handleImageViewClick","title","alt","width","height","view","directives","rawName","selected","resizing","expression","direction","onMouseDown","_e","IMAGE_CACHE","resolveImg","complete","img","Image","MIN_SIZE","originalSize","resizeDirections","TOP_LEFT","TOP_RIGHT","BOTTOM_LEFT","BOTTOM_RIGHT","resizerState","x","y","w","h","dir","created","selectImage","getPos","pos1","preventDefault","stopPropagation","clientX","clientY","originalWidth","originalHeight","aspectRatio","onEvents","onMouseMove","dx","dy","updateAttrs","max","onMouseUp","offEvents","addEventListener","removeEventListener","Function","Boolean","ImageView","IMAGE_URL_REGEX","inline","done","toString","toggle","ref","editable","TodoItemView","Icon","contenteditable","nested","priority","todo_list","createTable","isTableActive","closePopover","addColumnBefore","addColumnAfter","deleteColumn","addRowBefore","addRowAfter","deleteRow","enableMergeCells","mergeCells","enableSplitCell","splitCell","deleteTable","resetTableGridSize","tableGridSize","row","col","selectedTableGridSize","selectTableGridSize","popoverVisible","INIT_GRID_SIZE","MAX_GRID_SIZE","DEFAULT_SELECTED_GRID_SIZE","min","$refs","popoverRef","doClose","CreateTablePopover","rowsCount","colsCount","withHeaderRow","TablePopover","openInsertVideoControl","iframe","IframeCommandButton","selectable","frameborder","allowfullscreen","position","$cursor","$to","transaction","insert","props","computed","set","template","bold","underline","italic","strike","link","openApplyLinkControl","AddLinkCommandButton","unlink","handleClick","schema","range","$start","$end","markApplies","ranges","$from","can","depth","allowsMarkType","inlineContent","applyMark","markType","empty","removeStoredMark","addStoredMark","has","rangeHasMark","removeMark","addMark","color","selectColor","resetButtonText","Array","ColorPopover","colors","text_color","storedMarksSet","predefinedColors","componentEvents","select","highlightColor","text_highlight","horizontal_rule","undo","redo","isTextAlignActive","alignment","setTextAlign","job","IndentProps","alignments","left","center","right","justify","reduce","views","concat","isBulletListNode","isOrderedListNode","isTodoListNode","isListNode","updateIndentLevel","delta","setNodeIndentMarkup","nodeAt","minIndent","maxIndent","nodeAttrs","createIndentCommand","FormatMarks","outdent","keys","Tab","more","less","line_height","lineHeights","LineHeightDropdown","FORMAT_MARK_NAMES","textColor","textHighlight","clearMarks","markTypesToRemove","Set","filter","size","some","mark","nodeSize","format_clear","toggleFullScreen","buttonTooltip","isFullscreen","fullscreenStatus","fullscreen","mozFullScreen","fullscreenElement","msFullscreenElement","webkitIsFullScreen","requestFullscreen","element","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","onFullScreenEvent","callback","offFullScreenEvent","mounted","onFullscreenChange","beforeDestroy","editorEl","$el","closest","FullscreenCommandButton","printHtml","querySelectorAll","str","outerHTML","id","body","frameWindow","contentWindow","contentDocument","open","write","close","focus","execCommand","print","log","_state","_dispatch","editorContent","togglePreviewDialogVisible","previewDialogVisible","contentWidth","domProps","html","onVisibleChange","visible","getHtml","getHTML","PreviewCommandButton","select_all","Bold","Underline","Italic","Strike","Heading","buttons","Blockquote","CodeBlock","Link","add","control","placeholder","confirm","cancel","edit","insert_by_url","upload_image","invalid_url","button","Iframe","BulletList","OrderedList","TodoList","TextAlign","align_left","align_center","align_right","align_justify","TextColor","reset","TextHighlight","LineHeight","Table","insert_table","add_column_before","add_column_after","delete_column","add_row_before","add_row_after","delete_row","merge_cells","split_cell","delete_table","Indent","FormatClear","HorizontalRule","History","Fullscreen","exit_fullscreen","Print","Preview","dialog","SelectAll","characters","add_column_afer","defaultLang","dictionary","en","zh","pl","currentLang","useLang","path","split","prev","curr","warn","msg","args","noop","clamp","val","readFileDataUrl","reader","FileReader","readerEvent","readAsDataURL","cached","fn","cache","hit","capitalize","charAt","toUpperCase","Alignment","ELEMENT_TIPTAP_TIP","EVENTS","ALIGN_PATTERN","RegExp","LINE_HEIGHT_100","DEFAULT_LINE_HEIGHT","PREDEFINED_COLORS","PREVIEW_WINDOW_WIDTH","scopedSlots","_u","$scopedSlots","slotProps","_t","spellcheck","attributes","generateCommandButtonComponentSpecs","spec","_g","_b","extensionManager","acc","extension","menuBtnComponentSpec","isArray","Menubar","EditorMenuBar","menu","showLinkMenu","showTextMenu","bottom","openLink","OpenLinkCommandButton","inputValue","initUrl","EditLinkCommandButton","UnlinkCommandButton","getMarkAttrs","linkAttrs","LinkBubbleMenu","bubble","MenuBubble","EditorMenuBubble","COMMON_EMIT_EVENTS","TRANSACTION","FOCUS","BLUR","PASTE","DROP","emitAfterOnUpdate","textContent","onContentChange","setContent","onReadonlyChange","setOptions","readonly","generateExtensions","eventOptions","emitEvent","useBuiltInExtensions","onUpdate","$emit","genEvent","INIT","destroy","$elementTiptapPlugin","emptyEditorClass","emptyNodeClass","emptyNodeText","output","JSON","stringify","getJSON","UPDATE","validator","ElTiptap","MenuBar","EditorContent","commandButtonClass","Index","Simple","AllExtensions","BubbleMenu","Placeholder","Readonly","CustomMenubar","Event","Output","Vue","use","VueRouter","routes","children","router","base","process","ElementTiptapPlugin","config","productionTip","App","$mount","installed","install","lang","globalScope","global"],"mappings":"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","file":"js/app.8366015d.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-2d0aa233\":\"6b634972\",\"chunk-2d0b3dcd\":\"8f7fef82\",\"chunk-2d0bd3d6\":\"1a32291d\",\"chunk-2d21006e\":\"d7906178\",\"chunk-2d219f75\":\"bb1ac0bb\",\"chunk-2d222956\":\"dc90f3c9\",\"chunk-5c5ed24f\":\"0140f903\",\"chunk-5ea9f048\":\"f878f37a\",\"chunk-d6771e4e\":\"f72bebb3\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-5c5ed24f\":1,\"chunk-5ea9f048\":1,\"chunk-d6771e4e\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-2d0aa233\":\"31d6cfe0\",\"chunk-2d0b3dcd\":\"31d6cfe0\",\"chunk-2d0bd3d6\":\"31d6cfe0\",\"chunk-2d21006e\":\"31d6cfe0\",\"chunk-2d219f75\":\"31d6cfe0\",\"chunk-2d222956\":\"31d6cfe0\",\"chunk-5c5ed24f\":\"1f349e0a\",\"chunk-5ea9f048\":\"9dfa3417\",\"chunk-d6771e4e\":\"882ff51c\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/element-tiptap/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"c31f\",\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import { TextSelection, AllSelection, EditorState, Transaction } from 'prosemirror-state';\nimport { Node as ProsemirrorNode, NodeType } from 'prosemirror-model';\nimport { CommandFunction } from 'tiptap-commands';\nimport { LINE_HEIGHT_100, DEFAULT_LINE_HEIGHT } from '@/constants';\n\nexport const ALLOWED_NODE_TYPES = [\n  'paragraph',\n  'heading',\n  'list_item',\n  'todo_item',\n];\n\nconst NUMBER_VALUE_PATTERN = /^\\d+(.\\d+)?$/;\n\nexport function isLineHeightActive (state: EditorState, lineHeight: string): boolean {\n  const { selection, doc } = state;\n  const { from, to } = selection;\n\n  let keepLooking = true;\n  let active = false;\n\n  doc.nodesBetween(from, to, (node) => {\n    const nodeType = node.type;\n    const lineHeightValue = node.attrs.lineHeight || DEFAULT_LINE_HEIGHT;\n\n    if (ALLOWED_NODE_TYPES.includes(nodeType.name)) {\n      if (keepLooking && lineHeight === lineHeightValue) {\n        keepLooking = false;\n        active = true;\n\n        return false;\n      }\n      return nodeType.name !== 'list_item' && nodeType.name !== 'todo_item';\n    }\n    return keepLooking;\n  });\n\n  return active;\n}\n\nexport function transformLineHeightToCSS (value: string | number): string {\n  if (!value) return '';\n\n  let strValue = String(value);\n\n  if (NUMBER_VALUE_PATTERN.test(strValue)) {\n    const numValue = parseFloat(strValue);\n    strValue = String(Math.round(numValue * 100)) + '%';\n  }\n\n  return parseFloat(strValue) * LINE_HEIGHT_100 + '%'; ;\n}\n\ninterface SetLineHeightTask {\n  node: ProsemirrorNode,\n  nodeType: NodeType,\n  pos: number,\n}\n\nexport function setTextLineHeight (tr: Transaction, lineHeight: string | null): Transaction {\n  const { selection, doc } = tr;\n\n  if (!selection || !doc) return tr;\n\n  if (!(selection instanceof TextSelection || selection instanceof AllSelection)) {\n    return tr;\n  }\n\n  const { from, to } = selection;\n\n  const tasks: Array<SetLineHeightTask> = [];\n  const lineHeightValue = (lineHeight && lineHeight !== DEFAULT_LINE_HEIGHT) ? lineHeight : null;\n\n  doc.nodesBetween(from, to, (node, pos) => {\n    const nodeType = node.type;\n    if (ALLOWED_NODE_TYPES.includes(nodeType.name)) {\n      const lineHeight = node.attrs.lineHeight || null;\n      if (lineHeight !== lineHeightValue) {\n        tasks.push({\n          node,\n          pos,\n          nodeType,\n        });\n      }\n      return nodeType.name !== 'list_item' && nodeType.name !== 'todo_item';\n    }\n    return true;\n  });\n\n  if (!tasks.length) return tr;\n\n  tasks.forEach(task => {\n    const { node, pos, nodeType } = task;\n    let { attrs } = node;\n\n    attrs = {\n      ...attrs,\n      lineHeight: lineHeightValue,\n    };\n\n    tr = tr.setNodeMarkup(pos, nodeType, attrs, node.marks);\n  });\n\n  return tr;\n}\n\nexport function createLineHeightCommand (lineHeight: string): CommandFunction {\n  return (state, dispatch) => {\n    const { selection } = state;\n    let { tr } = state;\n    tr = tr.setSelection(selection);\n\n    tr = setTextLineHeight(tr, lineHeight);\n\n    if (tr.docChanged) {\n      dispatch && dispatch(tr);\n      return true;\n    }\n\n    return false;\n  };\n}\n","import { NodeSpec, Node as ProsemirrorNode, DOMOutputSpec } from 'prosemirror-model';\nimport { Paragraph as TiptapParagraph } from 'tiptap';\nimport { transformLineHeightToCSS } from '@/utils/line_height';\nimport { ALIGN_PATTERN, LINE_HEIGHT_100 } from '@/constants';\n\nexport const ParagraphNodeSpec: NodeSpec = {\n  attrs: {\n    textAlign: { default: null },\n    indent: { default: null },\n    lineHeight: { default: null },\n  },\n  content: 'inline*',\n  group: 'block',\n  parseDOM: [{\n    tag: 'p',\n    getAttrs,\n  }],\n  toDOM,\n};\n\n// @ts-ignore\nfunction getAttrs (dom): { [key: string]: any } {\n  let {\n    textAlign,\n    lineHeight,\n  } = dom.style;\n\n  let align = dom.getAttribute('data-text-align') || textAlign || '';\n  align = ALIGN_PATTERN.test(align) ? align : null;\n\n  const indent = parseInt(dom.getAttribute('data-indent'), 10) || 0;\n\n  lineHeight = (lineHeight && lineHeight !== transformLineHeightToCSS(LINE_HEIGHT_100)) ? lineHeight : null;\n\n  return {\n    textAlign: align,\n    indent,\n    lineHeight,\n  };\n}\n\nfunction toDOM (node: ProsemirrorNode): DOMOutputSpec {\n  const {\n    textAlign,\n    indent,\n    lineHeight,\n  } = node.attrs;\n\n  let style = '';\n  const attrs: { [key: string]: any } = {};\n\n  if (textAlign && textAlign !== 'left') {\n    attrs['data-text-align'] = textAlign;\n  }\n\n  if (indent) {\n    attrs['data-indent'] = indent;\n  }\n\n  if (lineHeight) {\n    const cssLineHeight = transformLineHeightToCSS(lineHeight);\n    style += `line-height: ${cssLineHeight};`;\n  }\n\n  style && (attrs.style = style);\n\n  return ['p', attrs, 0];\n}\n\nexport default class Paragraph extends TiptapParagraph {\n  get schema () {\n    return ParagraphNodeSpec;\n  }\n}\n\nexport const toParagraphDOM = toDOM;\nexport const getParagraphNodeAttrs = getAttrs;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dropdown',{attrs:{\"placement\":\"bottom\",\"trigger\":\"hover\"},on:{\"command\":function (i) { return i > 0\n    ? _vm.editorContext.commands.heading({ level: i })\n    : _vm.editorContext.commands.paragraph(); }}},[_c('command-button',{attrs:{\"is-active\":_vm.isHeadingActive(),\"tooltip\":_vm.t('editor.extensions.Heading.tooltip'),\"icon\":\"heading\"}}),_c('el-dropdown-menu',{staticClass:\"el-tiptap-dropdown-menu\",attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{staticClass:\"el-tiptap-dropdown-menu__item\",class:{\n        'el-tiptap-dropdown-menu__item--active': _vm.editorContext.isActive.paragraph(),\n      },attrs:{\"command\":0}},[_c('span',[_vm._v(_vm._s(_vm.t('editor.extensions.Heading.buttons.paragraph')))])]),_vm._l((_vm.level),function(i){return _c('el-dropdown-item',{key:i,staticClass:\"el-tiptap-dropdown-menu__item\",class:{\n        'el-tiptap-dropdown-menu__item--active': _vm.isHeadingActive(i),\n      },attrs:{\"command\":i}},[_c('h' +i,{tag:\"component\",attrs:{\"data-item-type\":\"heading\"}},[_vm._v(\" \"+_vm._s(_vm.t('editor.extensions.Heading.buttons.heading'))+\" \"+_vm._s(i)+\" \")])],1)})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { findParentNodeOfType } from 'prosemirror-utils';\nimport { EditorState } from 'prosemirror-state';\n\nfunction findHeading (state: EditorState) {\n  const { heading } = state.schema.nodes;\n  return findParentNodeOfType(heading)(state.selection);\n}\n\nexport function isHeadingActive (state: EditorState, level: number): boolean {\n  const result = findHeading(state);\n\n  if (level == null) {\n    return !!result;\n  }\n\n  return !!(\n    result &&\n    result.node &&\n    result.node.attrs &&\n    result.node.attrs.level === level\n  );\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Mixins } from 'vue-property-decorator';\nimport { MenuData } from 'tiptap';\nimport { Dropdown, DropdownMenu, DropdownItem } from 'element-ui';\nimport i18nMixin from '@/mixins/i18nMixin';\nimport { isHeadingActive } from '@/utils/heading';\nimport CommandButton from './CommandButton.vue';\n\n@Component({\n  components: {\n    [Dropdown.name]: Dropdown,\n    [DropdownMenu.name]: DropdownMenu,\n    [DropdownItem.name]: DropdownItem,\n    CommandButton,\n  },\n})\nexport default class HeadingDropdown extends Mixins(i18nMixin) {\n  @Prop({\n    type: Object,\n    required: true,\n  })\n  readonly editorContext!: MenuData;\n\n  private get editor () {\n    return this.editorContext.editor;\n  }\n\n  private get level () {\n    return this.editor.extensions.options.heading.level;\n  }\n\n  private isHeadingActive (level: number): boolean {\n    return isHeadingActive(this.editor.state, level);\n  }\n};\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HeadingDropdown.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HeadingDropdown.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./HeadingDropdown.vue?vue&type=template&id=1a56d7f8&\"\nimport script from \"./HeadingDropdown.vue?vue&type=script&lang=ts&\"\nexport * from \"./HeadingDropdown.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { NodeSpec, Node as ProsemirrorNode, DOMOutputSpec } from 'prosemirror-model';\nimport { Heading as TiptapHeading } from 'tiptap-extensions';\nimport { MenuData } from 'tiptap';\nimport { MenuBtnView } from '@/../types';\nimport HeadingDropdown from '@/components/MenuCommands/HeadingDropdown.vue';\nimport { ParagraphNodeSpec, getParagraphNodeAttrs, toParagraphDOM } from './paragraph';\n\n// @ts-ignore\nfunction getAttrs (dom) {\n  const attrs = getParagraphNodeAttrs(dom);\n  const level = dom.nodeName.match(/[H|h](\\d)/)[1];\n  attrs.level = Number(level);\n  return attrs;\n}\n\nfunction toDOM (node: ProsemirrorNode): DOMOutputSpec {\n  const dom = toParagraphDOM(node);\n  const level = node.attrs.level || 1;\n  // @ts-ignore\n  dom[0] = `h${level}`;\n  return dom;\n}\n\nexport default class Heading extends TiptapHeading implements MenuBtnView {\n  get schema (): NodeSpec {\n    return {\n      ...ParagraphNodeSpec,\n      attrs: {\n        ...ParagraphNodeSpec.attrs,\n        level: {\n          default: 1,\n        },\n      },\n      defining: true,\n      draggable: false,\n      parseDOM: this.options.levels.map((level: number) => ({\n        tag: `h${level}`,\n        getAttrs,\n      })),\n      toDOM,\n    };\n  }\n\n  menuBtnView (editorContext: MenuData) {\n    return {\n      component: HeadingDropdown,\n      componentProps: {\n        editorContext,\n      },\n    };\n  }\n}\n","import { NodeSpec, Node as ProsemirrorNode, DOMOutputSpec } from 'prosemirror-model';\nimport { Blockquote as TiptapBlockquote } from 'tiptap-extensions';\nimport { MenuData } from 'tiptap';\nimport { MenuBtnView } from '@/../types';\nimport { t } from '@/i18n/index';\nimport CommandButton from '@/components/MenuCommands/CommandButton.vue';\nimport { ParagraphNodeSpec, getParagraphNodeAttrs, toParagraphDOM } from './paragraph';\n\nconst BlockquoteNodeSpec: NodeSpec = {\n  ...ParagraphNodeSpec,\n  attrs: {\n    textAlign: { default: null },\n    indent: { default: null },\n  },\n  content: 'block*',\n  defining: true,\n  parseDOM: [{\n    tag: 'blockquote',\n    getAttrs,\n  }],\n  toDOM,\n};\n\n// @ts-ignore\nfunction getAttrs (dom) {\n  return getParagraphNodeAttrs(dom);\n}\n\nfunction toDOM (node: ProsemirrorNode): DOMOutputSpec {\n  const dom = toParagraphDOM(node);\n  // @ts-ignore\n  dom[0] = 'blockquote';\n  return dom;\n}\n\nexport default class Blockquote extends TiptapBlockquote implements MenuBtnView {\n  get schema () {\n    return BlockquoteNodeSpec;\n  }\n\n  menuBtnView ({ isActive, commands }: MenuData) {\n    return {\n      component: CommandButton,\n      componentProps: {\n        command: commands.blockquote,\n        isActive: isActive.blockquote(),\n        icon: 'quote-right',\n        tooltip: t('editor.extensions.Blockquote.tooltip'),\n      },\n    };\n  }\n}\n","import { CodeBlock as TiptapCodeBlock } from 'tiptap-extensions';\nimport { MenuData } from 'tiptap';\nimport { MenuBtnView } from '@/../types';\nimport { t } from '@/i18n/index';\nimport CommandButton from '@/components/MenuCommands/CommandButton.vue';\n\nexport default class CodeBlock extends TiptapCodeBlock implements MenuBtnView {\n  menuBtnView ({ isActive, commands }: MenuData) {\n    return {\n      component: CommandButton,\n      componentProps: {\n        command: commands.code_block,\n        isActive: isActive.code_block(),\n        icon: 'code',\n        tooltip: t('editor.extensions.CodeBlock.tooltip'),\n      },\n    };\n  }\n}\n","import { NodeSpec, Node as ProsemirrorNode, DOMOutputSpec } from 'prosemirror-model';\nimport { ListItem as TiptapListItem } from 'tiptap-extensions';\nimport { transformLineHeightToCSS } from '@/utils/line_height';\nimport { ALIGN_PATTERN, LINE_HEIGHT_100 } from '@/constants';\n\nconst ListItemNodeSpec: NodeSpec = {\n  attrs: {\n    textAlign: { default: null },\n    lineHeight: { default: null },\n  },\n  content: 'paragraph block*',\n  defining: true,\n  draggable: false,\n  parseDOM: [{\n    tag: 'li',\n    getAttrs,\n  }],\n  toDOM,\n};\n\n// @ts-ignore\nfunction getAttrs (dom) {\n  let {\n    textAlign,\n    lineHeight,\n  } = dom.style;\n\n  let align = dom.getAttribute('data-text-align') || textAlign || '';\n  align = ALIGN_PATTERN.test(align) ? align : null;\n\n  lineHeight = (lineHeight && lineHeight !== transformLineHeightToCSS(LINE_HEIGHT_100)) ? lineHeight : null;\n\n  return {\n    textAlign: align,\n    lineHeight,\n  };\n}\n\nfunction toDOM (node: ProsemirrorNode): DOMOutputSpec {\n  const {\n    textAlign,\n    lineHeight,\n  } = node.attrs;\n\n  let style = '';\n  const attrs: { [key: string]: any } = {};\n\n  if (textAlign && textAlign !== 'left') {\n    attrs['data-text-align'] = textAlign;\n  }\n\n  if (lineHeight) {\n    const cssLineHeight = transformLineHeightToCSS(lineHeight);\n    style += `line-height: ${cssLineHeight};`;\n  }\n\n  style && (attrs.style = style);\n\n  return ['li', attrs, 0];\n}\n\nexport default class ListItem extends TiptapListItem {\n  get schema () {\n    return ListItemNodeSpec;\n  }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { Node as ProsemirrorNode } from 'prosemirror-model';\nimport { NodeSelection } from 'prosemirror-state';\nimport { EditorView } from 'prosemirror-view';\nimport { resolveImg } from '@/utils/image';\n\nconst enum ResizeDirection {\n  TOP_LEFT = 'tl',\n  TOP_RIGHT = 'tr',\n  BOTTOM_LEFT = 'bl',\n  BOTTOM_RIGHT = 'br',\n};\n\nconst MIN_SIZE = 20;\n\n@Component\nexport default class ImageView extends Vue {\n  @Prop({\n    type: ProsemirrorNode,\n    required: true,\n  })\n  readonly node!: ProsemirrorNode;\n\n  @Prop({\n    type: EditorView,\n    required: true,\n  })\n  readonly view!: EditorView;\n\n  @Prop({\n    type: Function,\n    required: true,\n  })\n  readonly getPos!: Function;\n\n  @Prop({\n    type: Function,\n    required: true,\n  })\n  readonly updateAttrs!: Function;\n\n  @Prop({\n    type: Boolean,\n    required: true,\n  })\n  readonly selected!: boolean;\n\n  originalSize = {\n    width: 0,\n    height: 0,\n  };\n\n  resizeDirections = [\n    ResizeDirection.TOP_LEFT,\n    ResizeDirection.TOP_RIGHT,\n    ResizeDirection.BOTTOM_LEFT,\n    ResizeDirection.BOTTOM_RIGHT,\n  ];\n\n  resizing = false;\n\n  resizerState = {\n    x: 0,\n    y: 0,\n    w: 0,\n    h: 0,\n    dir: '',\n  };\n\n  private get src (): string {\n    return this.node.attrs.src;\n  }\n\n  private get width (): number {\n    return this.node.attrs.width;\n  }\n\n  private get height (): number {\n    return this.node.attrs.height;\n  }\n\n  private get imageViewClass () {\n    return {\n      'image-view': true,\n      'image-view--focused': this.selected,\n    };\n  }\n\n  private async created () {\n    const result = await resolveImg(this.src);\n\n    if (!result.complete) {\n      result.width = MIN_SIZE;\n      result.height = MIN_SIZE;\n    }\n\n    this.originalSize = {\n      width: result.width,\n      height: result.height,\n    };\n  }\n\n  private handleImageViewClick () {\n    this.selectImage();\n  }\n\n  // https://github.com/scrumpy/tiptap/issues/361#issuecomment-540299541\n  private selectImage () {\n    const tr = this.view.state.tr;\n    const pos = this.getPos();\n    const pos1 = this.view.state.doc.resolve(pos);\n    const selection = new NodeSelection(pos1);\n    tr.setSelection(selection);\n    this.view.dispatch(tr);\n  }\n\n  private onMouseDown (e: MouseEvent, dir: ResizeDirection): void {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.resizerState.x = e.clientX;\n    this.resizerState.y = e.clientY;\n\n    const originalWidth = this.originalSize.width;\n    const originalHeight = this.originalSize.height;\n    const aspectRatio = originalWidth / originalHeight;\n\n    let { width, height } = this.node.attrs;\n\n    if (width && !height) {\n      height = Math.round(width / aspectRatio);\n    } else if (height && !width) {\n      width = Math.round(height * aspectRatio);\n    } else if (!width && !height) {\n      width = originalWidth;\n      height = originalHeight;\n    }\n\n    this.resizerState.w = width;\n    this.resizerState.h = height;\n    this.resizerState.dir = dir;\n\n    this.resizing = true;\n\n    this.onEvents();\n  }\n\n  private onMouseMove (e: MouseEvent): void {\n    e.preventDefault();\n    e.stopPropagation();\n    if (!this.resizing) return;\n\n    const { x, y, w, h, dir } = this.resizerState;\n\n    const dx = (e.clientX - x) * (/l/.test(dir) ? -1 : 1);\n    const dy = (e.clientY - y) * (/t/.test(dir) ? -1 : 1);\n\n    this.updateAttrs({\n      width: Math.max(w + dx, MIN_SIZE),\n      height: Math.max(h + dy, MIN_SIZE),\n    });\n  }\n\n  private onMouseUp (e: MouseEvent): void {\n    e.preventDefault();\n    e.stopPropagation();\n    if (!this.resizing) return;\n\n    this.resizing = false;\n\n    this.resizerState = {\n      x: 0,\n      y: 0,\n      w: 0,\n      h: 0,\n      dir: '',\n    };\n\n    this.offEvents();\n    this.selectImage();\n  }\n\n  private onEvents (): void {\n    document.addEventListener('mousemove', this.onMouseMove, true);\n    document.addEventListener('mouseup', this.onMouseUp, true);\n  }\n\n  private offEvents (): void {\n    document.removeEventListener('mousemove', this.onMouseMove, true);\n    document.removeEventListener('mouseup', this.onMouseUp, true);\n  }\n};\n","import { BulletList as TiptapBulletList } from 'tiptap-extensions';\nimport { MenuData } from 'tiptap';\nimport { MenuBtnView } from '@/../types';\nimport { t } from '@/i18n/index';\nimport CommandButton from '@/components/MenuCommands/CommandButton.vue';\n\nexport default class BulletList extends TiptapBulletList implements MenuBtnView {\n  menuBtnView ({ isActive, commands }: MenuData) {\n    return {\n      component: CommandButton,\n      componentProps: {\n        isActive: isActive.bullet_list(),\n        command: commands.bullet_list,\n        icon: 'list-ul',\n        tooltip: t('editor.extensions.BulletList.tooltip'),\n      },\n    };\n  }\n}\n","import { OrderedList as TiptapOrderedList } from 'tiptap-extensions';\nimport { MenuData } from 'tiptap';\nimport { MenuBtnView } from '@/../types';\nimport { t } from '@/i18n/index';\nimport CommandButton from '@/components/MenuCommands/CommandButton.vue';\n\nexport default class OrderedList extends TiptapOrderedList implements MenuBtnView {\n  menuBtnView ({ isActive, commands }: MenuData) {\n    return {\n      component: CommandButton,\n      componentProps: {\n        isActive: isActive.ordered_list(),\n        command: commands.ordered_list,\n        icon: 'list-ol',\n        tooltip: t('editor.extensions.OrderedList.tooltip'),\n      },\n    };\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-popover',{attrs:{\"placement\":\"bottom\",\"trigger\":\"click\",\"popper-class\":\"el-tiptap-popper\"}},[_c('div',{staticClass:\"el-tiptap-popper__menu\"},[_c('div',{staticClass:\"el-tiptap-popper__menu__item\",on:{\"click\":_vm.openUrlPrompt}},[_c('span',[_vm._v(_vm._s(_vm.t('editor.extensions.Image.buttons.insert_by_url')))])]),_c('div',{staticClass:\"el-tiptap-popper__menu__item\",on:{\"click\":function($event){_vm.imageUploadDialogVisible = true}}},[_c('span',[_vm._v(_vm._s(_vm.t('editor.extensions.Image.buttons.upload_image')))])])]),_c('command-button',{attrs:{\"slot\":\"reference\",\"tooltip\":_vm.t('editor.extensions.Image.tooltip'),\"icon\":\"image\"},slot:\"reference\"})],1),_c('el-dialog',{attrs:{\"title\":_vm.t('editor.extensions.Image.control.upload_image.title'),\"visible\":_vm.imageUploadDialogVisible},on:{\"update:visible\":function($event){_vm.imageUploadDialogVisible=$event}}},[_c('el-upload',{staticClass:\"el-tiptap-upload\",attrs:{\"http-request\":_vm.uploadImage,\"show-file-list\":false,\"action\":\"#\",\"drag\":\"\",\"accept\":\"image/*\"}},[_c('div',{staticClass:\"el-tiptap-upload__icon\"},[_c('i',{staticClass:\"fa fa-upload\"})]),_c('div',{staticClass:\"el-tiptap-upload__text\"},[_vm._v(\" \"+_vm._s(_vm.t('editor.extensions.Image.control.upload_image.button'))+\" \")])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Mixins } from 'vue-property-decorator';\nimport { Dialog, Upload, MessageBox, Popover } from 'element-ui';\nimport { HttpRequestOptions } from 'element-ui/types/upload';\nimport { MenuData } from 'tiptap';\nimport i18nMixin from '@/mixins/i18nMixin';\nimport { readFileDataUrl } from '@/utils/shared';\nimport CommandButton from './CommandButton.vue';\n\n@Component({\n  components: {\n    [Dialog.name]: Dialog,\n    [Upload.name]: Upload,\n    [Popover.name]: Popover,\n    CommandButton,\n  },\n})\nexport default class ImageCommandButton extends Mixins(i18nMixin) {\n  @Prop({\n    type: Object,\n    required: true,\n  })\n  readonly editorContext!: MenuData;\n\n  imageUploadDialogVisible: boolean = false;\n\n  private get imageNodeOptions () {\n    return this.editorContext.editor.extensions.options.image;\n  }\n\n  openUrlPrompt (): void {\n    MessageBox.prompt('', this.t('editor.extensions.Image.control.insert_by_url.title'), {\n      confirmButtonText: this.t('editor.extensions.Image.control.insert_by_url.confirm'),\n      cancelButtonText: this.t('editor.extensions.Image.control.insert_by_url.cancel'),\n      inputPlaceholder: this.t('editor.extensions.Image.control.insert_by_url.placeholder'),\n      inputPattern: this.imageNodeOptions.urlPattern,\n      inputErrorMessage: this.t('editor.extensions.Image.control.insert_by_url.invalid_url'),\n      roundButton: true,\n    // @ts-ignore\n    }).then(({ value: url }) => {\n      this.editorContext.commands.image({ src: url });\n    }).catch(() => {\n\n    });\n  }\n\n  async uploadImage (requestOptions: HttpRequestOptions) {\n    const { file } = requestOptions;\n\n    const uploadRequest = this.imageNodeOptions.uploadRequest;\n    const url = await (uploadRequest ? uploadRequest(file) : readFileDataUrl(file));\n\n    this.editorContext.commands.image({ src: url });\n\n    this.imageUploadDialogVisible = false;\n  }\n};\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageCommandButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageCommandButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ImageCommandButton.vue?vue&type=template&id=33d768d8&\"\nimport script from \"./ImageCommandButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./ImageCommandButton.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{class:_vm.imageViewClass,on:{\"click\":_vm.handleImageViewClick}},[_c('div',{staticClass:\"image-view__body\"},[_c('span',{staticClass:\"image-view__body__image\"},[_c('img',{attrs:{\"src\":_vm.node.attrs.src,\"title\":_vm.node.attrs.title,\"alt\":_vm.node.attrs.alt,\"width\":_vm.width,\"height\":_vm.height}})]),(_vm.view.editable)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selected || _vm.resizing),expression:\"selected || resizing\"}],staticClass:\"image-resizer\"},_vm._l((_vm.resizeDirections),function(direction){return _c('span',{key:direction,staticClass:\"image-resizer__handler\",class:(\"image-resizer__handler--\" + direction),on:{\"mousedown\":function($event){return _vm.onMouseDown($event, direction)}}})}),0):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","type ImageResult = {\n  complete: boolean;\n  width: number;\n  height: number;\n  src: string;\n};\n\ninterface ImageCache {\n  [key: string]: ImageResult;\n}\n\nconst IMAGE_CACHE: ImageCache = {};\n\nexport function resolveImg (src: string): Promise<ImageResult> {\n  return new Promise((resolve, reject) => {\n    const result: ImageResult = {\n      complete: false,\n      width: 0,\n      height: 0,\n      src,\n    };\n\n    if (!src) {\n      reject(result);\n      return;\n    }\n\n    if (IMAGE_CACHE[src]) {\n      resolve({ ...IMAGE_CACHE[src] });\n      return;\n    }\n\n    const img = new Image();\n\n    img.onload = () => {\n      result.width = img.width;\n      result.height = img.height;\n      result.complete = true;\n\n      IMAGE_CACHE[src] = { ...result };\n      resolve(result);\n    };\n\n    img.onerror = () => {\n      reject(result);\n    };\n\n    img.src = src;\n  });\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageView.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageView.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ImageView.vue?vue&type=template&id=66d62f78&\"\nimport script from \"./ImageView.vue?vue&type=script&lang=ts&\"\nexport * from \"./ImageView.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// @ts-nocheck\nimport { Node as ProsemirrorNode } from 'prosemirror-model';\nimport { Image as TiptapImage } from 'tiptap-extensions';\nimport { MenuData } from 'tiptap';\nimport { MenuBtnView } from '@/../types';\nimport ImageCommandButton from '@/components/MenuCommands/ImageCommandButton.vue';\nimport ImageView from '@/components/ExtensionViews/ImageView.vue';\n\nconst IMAGE_URL_REGEX = /(https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|www\\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9]+\\.[^\\s]{2,}|www\\.[a-zA-Z0-9]+\\.[^\\s]{2,})/;\n\n// @ts-ignore\nfunction getAttrs (dom: HTMLElement): { [key: string]: any } {\n  let { width, height } = dom.style;\n\n  width = width || dom.getAttribute('width') || null;\n  height = height || dom.getAttribute('height') || null;\n\n  return {\n    src: dom.getAttribute('src') || null,\n    title: dom.getAttribute('title') || null,\n    alt: dom.getAttribute('alt') || null,\n    width: width == null ? null : parseInt(width, 10),\n    height: height == null ? null : parseInt(height, 10),\n  };\n}\n\nexport default class Image extends TiptapImage implements MenuBtnView {\n  get defaultOptions () {\n    return {\n      urlPattern: IMAGE_URL_REGEX,\n      uploadRequest: null,\n    };\n  }\n\n  get schema () {\n    return {\n      inline: true,\n      attrs: {\n        src: {\n          default: '',\n        },\n        alt: {\n          default: '',\n        },\n        title: {\n          default: '',\n        },\n        width: {\n          default: null,\n        },\n        height: {\n          default: null,\n        },\n      },\n      group: 'inline',\n      draggable: true,\n      parseDOM: [{ tag: 'img[src]', getAttrs }],\n      toDOM: (node: ProsemirrorNode) => ['img', node.attrs],\n    };\n  }\n\n  get view () {\n    return ImageView;\n  }\n\n  menuBtnView (editorContext: MenuData) {\n    return {\n      component: ImageCommandButton,\n      componentProps: {\n        editorContext,\n      },\n    };\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"todo-item\",class:{ 'todo-item--done': _vm.done },style:(_vm.todoItemStyle),attrs:{\"data-type\":_vm.node.type.name,\"data-done\":_vm.done.toString(),\"data-text-align\":_vm.node.attrs.textAlign,\"data-drag-handle\":\"\"}},[_c('span',{staticClass:\"todo-checkbox\",attrs:{\"contenteditable\":\"false\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggle($event)}}},[_c('v-icon',{attrs:{\"name\":_vm.done ? 'check-square' : 'regular/square'}})],1),_c('div',{ref:\"content\",staticClass:\"todo-content\",attrs:{\"contenteditable\":_vm.view.editable.toString()}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { Node as ProsemirrorNode } from 'prosemirror-model';\nimport { EditorView } from 'prosemirror-view';\nimport Icon from 'vue-awesome/components/Icon.vue';\nimport 'vue-awesome/icons/check-square';\nimport 'vue-awesome/icons/regular/square';\nimport { transformLineHeightToCSS } from '@/utils/line_height';\n\n@Component({\n  components: {\n    'v-icon': Icon,\n  },\n})\nexport default class TodoItemView extends Vue {\n  @Prop({\n    type: ProsemirrorNode,\n    required: true,\n  })\n  readonly node!: ProsemirrorNode;\n\n  @Prop({\n    type: EditorView,\n    required: true,\n  })\n  readonly view!: EditorView;\n\n  @Prop({\n    type: Function,\n    required: true,\n  })\n  readonly updateAttrs!: Function;\n\n  get done (): boolean {\n    return this.node.attrs.done;\n  }\n\n  set done (done) {\n    this.updateAttrs({\n      done,\n    });\n  }\n\n  private get todoItemStyle () {\n    return {\n      lineHeight: transformLineHeightToCSS(this.node.attrs.lineHeight),\n    };\n  }\n\n  toggle () {\n    this.done = !this.done;\n  }\n};\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TodoItemView.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TodoItemView.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TodoItemView.vue?vue&type=template&id=fc83d304&\"\nimport script from \"./TodoItemView.vue?vue&type=script&lang=ts&\"\nexport * from \"./TodoItemView.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { Node as ProsemirrorNode, DOMOutputSpec } from 'prosemirror-model';\nimport { TodoItem as TiptapTodoItem } from 'tiptap-extensions';\nimport { transformLineHeightToCSS } from '@/utils/line_height';\nimport { ALIGN_PATTERN, LINE_HEIGHT_100 } from '@/constants';\nimport TodoItemView from '@/components/ExtensionViews/TodoItemView.vue';\n\nfunction getAttrs (dom: HTMLElement) {\n  let {\n    textAlign,\n    lineHeight,\n  } = dom.style;\n\n  let align: string | null = dom.getAttribute('data-text-align') || textAlign || '';\n  align = ALIGN_PATTERN.test(align) ? align : '';\n\n  lineHeight = (lineHeight && lineHeight !== transformLineHeightToCSS(LINE_HEIGHT_100)) ? lineHeight : '';\n\n  return {\n    textAlign: align || null,\n    lineHeight: lineHeight || null,\n    done: dom.getAttribute('data-done') === 'true',\n  };\n}\n\nfunction toDOM (node: ProsemirrorNode): DOMOutputSpec {\n  const {\n    done,\n    textAlign,\n    lineHeight,\n  } = node.attrs;\n\n  let style = '';\n  const attrs: { [key: string]: any } = {};\n\n  attrs['data-type'] = 'todo_item';\n  attrs['data-done'] = done.toString();\n\n  if (textAlign && textAlign !== 'left') {\n    attrs['data-text-align'] = textAlign;\n  }\n\n  if (lineHeight) {\n    const cssLineHeight = transformLineHeightToCSS(lineHeight);\n    style += `line-height: ${cssLineHeight};`;\n  }\n\n  style && (attrs.style = style);\n\n  return [\n    'li',\n    attrs,\n    ['span', { class: 'todo-checkbox', contenteditable: 'false' }],\n    ['div', { class: 'todo-content' }, 0],\n  ];\n}\n\nexport default class TodoItem extends TiptapTodoItem {\n  // @ts-ignore\n  get schema () {\n    return {\n      attrs: {\n        done: { default: false },\n        textAlign: { default: null },\n        lineHeight: { default: null },\n      },\n      draggable: true,\n      content: this.options.nested ? '(paragraph|todo_list)+' : 'paragraph+',\n      parseDOM: [{\n        priority: 51,\n        tag: `[data-type=\"${this.name}\"]`,\n        getAttrs,\n      }],\n      toDOM,\n    };\n  }\n\n  get view () {\n    return TodoItemView;\n  }\n}\n","// @ts-nocheck\nimport { TodoList as TiptapTodoList } from 'tiptap-extensions';\nimport { MenuData } from 'tiptap';\nimport { MenuBtnView } from '@/../types';\nimport { t } from '@/i18n/index';\nimport CommandButton from '@/components/MenuCommands/CommandButton.vue';\n\nexport default class TodoList extends TiptapTodoList implements MenuBtnView {\n  get schema () {\n    return {\n      group: 'block',\n      content: 'todo_item+',\n      parseDOM: [\n        {\n          priority: 51,\n          tag: `[data-type=\"${this.name}\"]`,\n          getAttrs: () => {\n            return {\n              'data-type': this.name,\n            };\n          },\n        },\n      ],\n      toDOM: () => {\n        const attrs: { [key: string]: any } = {};\n\n        attrs['data-type'] = this.name;\n\n        return ['ul', attrs, 0];\n      },\n    };\n  }\n\n  menuBtnView ({ isActive, commands }: MenuData) {\n    return {\n      component: CommandButton,\n      componentProps: {\n        isActive: isActive.todo_list(),\n        command: commands.todo_list,\n        icon: 'tasks',\n        tooltip: t('editor.extensions.TodoList.tooltip'),\n      },\n    };\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-popover',{ref:\"popoverRef\",attrs:{\"placement\":\"bottom\",\"trigger\":\"click\",\"popper-class\":\"el-tiptap-popper\"}},[_c('div',{staticClass:\"el-tiptap-popper__menu\"},[_c('div',{staticClass:\"el-tiptap-popper__menu__item\"},[_c('create-table-popover',{on:{\"createTable\":_vm.createTable}})],1),_c('div',{staticClass:\"el-tiptap-popper__menu__item__separator\"}),_c('div',{staticClass:\"el-tiptap-popper__menu__item\",class:{ 'el-tiptap-popper__menu__item--disabled': !_vm.isTableActive },on:{\"mousedown\":_vm.closePopover,\"click\":_vm.editorContext.commands.addColumnBefore}},[_c('span',[_vm._v(_vm._s(_vm.t('editor.extensions.Table.buttons.add_column_before')))])]),_c('div',{staticClass:\"el-tiptap-popper__menu__item\",class:{ 'el-tiptap-popper__menu__item--disabled': !_vm.isTableActive },on:{\"mousedown\":_vm.closePopover,\"click\":_vm.editorContext.commands.addColumnAfter}},[_c('span',[_vm._v(_vm._s(_vm.t('editor.extensions.Table.buttons.add_column_after')))])]),_c('div',{staticClass:\"el-tiptap-popper__menu__item\",class:{ 'el-tiptap-popper__menu__item--disabled': !_vm.isTableActive },on:{\"mousedown\":_vm.closePopover,\"click\":_vm.editorContext.commands.deleteColumn}},[_c('span',[_vm._v(_vm._s(_vm.t('editor.extensions.Table.buttons.delete_column')))])]),_c('div',{staticClass:\"el-tiptap-popper__menu__item__separator\"}),_c('div',{staticClass:\"el-tiptap-popper__menu__item\",class:{ 'el-tiptap-popper__menu__item--disabled': !_vm.isTableActive },on:{\"mousedown\":_vm.closePopover,\"click\":_vm.editorContext.commands.addRowBefore}},[_c('span',[_vm._v(_vm._s(_vm.t('editor.extensions.Table.buttons.add_row_before')))])]),_c('div',{staticClass:\"el-tiptap-popper__menu__item\",class:{ 'el-tiptap-popper__menu__item--disabled': !_vm.isTableActive },on:{\"mousedown\":_vm.closePopover,\"click\":_vm.editorContext.commands.addRowAfter}},[_c('span',[_vm._v(_vm._s(_vm.t('editor.extensions.Table.buttons.add_row_after')))])]),_c('div',{staticClass:\"el-tiptap-popper__menu__item\",class:{ 'el-tiptap-popper__menu__item--disabled': !_vm.isTableActive },on:{\"mousedown\":_vm.closePopover,\"click\":_vm.editorContext.commands.deleteRow}},[_c('span',[_vm._v(_vm._s(_vm.t('editor.extensions.Table.buttons.delete_row')))])]),_c('div',{staticClass:\"el-tiptap-popper__menu__item__separator\"}),_c('div',{staticClass:\"el-tiptap-popper__menu__item\",class:{ 'el-tiptap-popper__menu__item--disabled': !_vm.enableMergeCells },on:{\"mousedown\":_vm.closePopover,\"click\":_vm.editorContext.commands.mergeCells}},[_c('span',[_vm._v(_vm._s(_vm.t('editor.extensions.Table.buttons.merge_cells')))])]),_c('div',{staticClass:\"el-tiptap-popper__menu__item\",class:{ 'el-tiptap-popper__menu__item--disabled': !_vm.enableSplitCell },on:{\"mousedown\":_vm.closePopover,\"click\":_vm.editorContext.commands.splitCell}},[_c('span',[_vm._v(_vm._s(_vm.t('editor.extensions.Table.buttons.split_cell')))])]),_c('div',{staticClass:\"el-tiptap-popper__menu__item__separator\"}),_c('div',{staticClass:\"el-tiptap-popper__menu__item\",class:{ 'el-tiptap-popper__menu__item--disabled': !_vm.isTableActive },on:{\"mousedown\":_vm.closePopover,\"click\":_vm.editorContext.commands.deleteTable}},[_c('span',[_vm._v(_vm._s(_vm.t('editor.extensions.Table.buttons.delete_table')))])])]),_c('command-button',{attrs:{\"slot\":\"reference\",\"is-active\":_vm.isTableActive,\"tooltip\":_vm.t('editor.extensions.Table.tooltip'),\"icon\":\"table\"},slot:\"reference\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { mergeCells, splitCell } from 'prosemirror-tables';\nimport { EditorState } from 'prosemirror-state';\n\nexport function isTableActive (state: EditorState): boolean {\n  const { selection, doc } = state;\n  const { from, to } = selection;\n\n  let keepLooking = true;\n  let active = false;\n\n  doc.nodesBetween(from, to, (node) => {\n    const name = node.type.name;\n    if (\n      keepLooking &&\n      (name === 'table' || name === 'table_row' || name === 'table_column' || name === 'table_cell')\n    ) {\n      keepLooking = false;\n      active = true;\n    }\n    return keepLooking;\n  });\n\n  return active;\n}\n\nexport function enableMergeCells (state: EditorState): boolean {\n  return isTableActive(state) && mergeCells(state);\n}\n\nexport function enableSplitCell (state: EditorState): boolean {\n  return isTableActive(state) && splitCell(state);\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-popover',{ref:\"popoverRef\",attrs:{\"placement\":\"right\",\"trigger\":\"hover\",\"popper-class\":\"el-tiptap-popper\"},on:{\"after-leave\":_vm.resetTableGridSize}},[_c('div',{staticClass:\"table-grid-size-editor\"},[_c('div',{staticClass:\"table-grid-size-editor__body\"},_vm._l((_vm.tableGridSize.row),function(row){return _c('div',{key:'r' + row},_vm._l((_vm.tableGridSize.col),function(col){return _c('div',{key:'c' + col,staticClass:\"table-grid-size-editor__cell\",class:{\n            'table-grid-size-editor__cell--selected': col <= _vm.selectedTableGridSize.col && row <= _vm.selectedTableGridSize.row\n          },on:{\"mouseover\":function($event){return _vm.selectTableGridSize(row, col)},\"mousedown\":function($event){return _vm.onMouseDown(row, col)}}},[_c('div',{staticClass:\"table-grid-size-editor__cell__inner\"})])}),0)}),0),_c('div',{staticClass:\"table-grid-size-editor__footer\"},[_vm._v(\" \"+_vm._s(_vm.selectedTableGridSize.row)+\" X \"+_vm._s(_vm.selectedTableGridSize.col)+\" \")])]),_c('div',{staticClass:\"table-popover__menu-item\",attrs:{\"slot\":\"reference\"},on:{\"mouseover\":function($event){_vm.popoverVisible = true}},slot:\"reference\"},[_c('span',[_vm._v(_vm._s(_vm.t('editor.extensions.Table.buttons.insert_table')))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Emit, Mixins } from 'vue-property-decorator';\nimport { Popover } from 'element-ui';\nimport i18nMixin from '@/mixins/i18nMixin';\n\nconst INIT_GRID_SIZE = 5;\nconst MAX_GRID_SIZE = 10;\nconst DEFAULT_SELECTED_GRID_SIZE = 2;\n\ninterface GridSize {\n  row: number;\n  col: number;\n}\n\n@Component({\n  components: {\n    [Popover.name]: Popover,\n  },\n})\nexport default class CreateTablePopover extends Mixins(i18nMixin) {\n  popoverVisible = false;\n\n  tableGridSize: GridSize = {\n    row: INIT_GRID_SIZE,\n    col: INIT_GRID_SIZE,\n  };\n\n  selectedTableGridSize: GridSize = {\n    row: DEFAULT_SELECTED_GRID_SIZE,\n    col: DEFAULT_SELECTED_GRID_SIZE,\n  };\n\n  selectTableGridSize (row: number, col: number): void {\n    if (row === this.tableGridSize.row) {\n      this.tableGridSize.row = Math.min(row + 1, MAX_GRID_SIZE);\n    }\n\n    if (col === this.tableGridSize.col) {\n      this.tableGridSize.col = Math.min(col + 1, MAX_GRID_SIZE);\n    }\n\n    this.selectedTableGridSize.row = row;\n    this.selectedTableGridSize.col = col;\n  }\n\n  @Emit('createTable')\n  onMouseDown (row: number, col: number): GridSize {\n    // @ts-ignore\n    this.$refs.popoverRef.doClose();\n\n    return { row, col };\n  }\n\n  resetTableGridSize (): void {\n    this.tableGridSize = {\n      row: INIT_GRID_SIZE,\n      col: INIT_GRID_SIZE,\n    };\n\n    this.selectedTableGridSize = {\n      row: DEFAULT_SELECTED_GRID_SIZE,\n      col: DEFAULT_SELECTED_GRID_SIZE,\n    };\n  }\n};\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateTablePopover.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateTablePopover.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CreateTablePopover.vue?vue&type=template&id=d6f2a068&\"\nimport script from \"./CreateTablePopover.vue?vue&type=script&lang=ts&\"\nexport * from \"./CreateTablePopover.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Mixins } from 'vue-property-decorator';\nimport { MenuData } from 'tiptap';\nimport { Popover } from 'element-ui';\nimport { isTableActive, enableMergeCells, enableSplitCell } from '@/utils/table';\nimport i18nMixin from '@/mixins/i18nMixin';\nimport CommandButton from '../CommandButton.vue';\nimport CreateTablePopover from './CreateTablePopover.vue';\n\n@Component({\n  components: {\n    [Popover.name]: Popover,\n    CommandButton,\n    CreateTablePopover,\n  },\n})\nexport default class TablePopover extends Mixins(i18nMixin) {\n  @Prop({\n    type: Object,\n    required: true,\n  })\n  readonly editorContext!: MenuData;\n\n  private get editor () {\n    return this.editorContext.editor;\n  }\n\n  private get isTableActive () {\n    return isTableActive(this.editor.state);\n  }\n\n  private get enableMergeCells () {\n    return enableMergeCells(this.editor.state);\n  }\n\n  private get enableSplitCell () {\n    return enableSplitCell(this.editor.state);\n  }\n\n  closePopover (): void {\n    // @ts-ignore\n    this.$refs.popoverRef.doClose();\n  }\n\n  createTable ({ row, col }: { row: number, col: number }): void {\n    this.editorContext.commands.createTable({\n      rowsCount: row,\n      colsCount: col,\n      withHeaderRow: true,\n    });\n\n    this.closePopover();\n  }\n};\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=55ab1584&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { Table as TiptapTable } from 'tiptap-extensions';\nimport { MenuData } from 'tiptap';\nimport { MenuBtnView } from '@/../types';\nimport TablePopover from '@/components/MenuCommands/TablePopover/index.vue';\n\nexport default class Table extends TiptapTable implements MenuBtnView {\n  menuBtnView (editorContext: MenuData) {\n    return {\n      component: TablePopover,\n      componentProps: {\n        editorContext,\n      },\n    };\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('command-button',{attrs:{\"command\":_vm.openInsertVideoControl,\"tooltip\":_vm.t('editor.extensions.Iframe.tooltip'),\"icon\":\"video\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\nimport { Component, Prop, Mixins } from 'vue-property-decorator';\nimport { MessageBox } from 'element-ui';\nimport { MenuData } from 'tiptap';\nimport i18nMixin from '@/mixins/i18nMixin';\nimport CommandButton from './CommandButton.vue';\n\n@Component({\n  components: {\n    CommandButton,\n  },\n})\nexport default class IframeCommandButton extends Mixins(i18nMixin) {\n  @Prop({\n    type: Object,\n    required: true,\n  })\n  readonly editorContext!: MenuData;\n\n  openInsertVideoControl (): void {\n    MessageBox.prompt('', this.t('editor.extensions.Iframe.control.title'), {\n      confirmButtonText: this.t('editor.extensions.Iframe.control.confirm'),\n      cancelButtonText: this.t('editor.extensions.Iframe.control.cancel'),\n      inputPlaceholder: this.t('editor.extensions.Iframe.control.placeholder'),\n      roundButton: true,\n    // @ts-ignore\n    }).then(({ value: href }) => {\n      this.editorContext.commands.iframe({ src: href });\n    }).catch(() => {\n\n    });\n  }\n};\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IframeCommandButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IframeCommandButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./IframeCommandButton.vue?vue&type=template&id=40db45e1&\"\nimport script from \"./IframeCommandButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./IframeCommandButton.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// @ts-nocheck\nimport { Node, MenuData } from 'tiptap';\nimport { MenuBtnView } from '@/../types';\nimport IframeCommandButton from '@/components/MenuCommands/IframeCommandButton.vue';\n\nexport default class Iframe extends Node implements MenuBtnView {\n  get name () {\n    return 'iframe';\n  }\n\n  // @ts-ignore\n  get schema () {\n    return {\n      attrs: {\n        src: {\n          default: null,\n        },\n      },\n      group: 'block',\n      selectable: false,\n      parseDOM: [{\n        tag: 'iframe',\n        // @ts-ignore\n        getAttrs: dom => ({\n          src: dom.getAttribute('src'),\n        }),\n      }],\n      toDOM: (node) => ['iframe', {\n        src: node.attrs.src,\n        frameborder: 0,\n        allowfullscreen: 'true',\n      }],\n    };\n  }\n\n  commands ({ type }) {\n    return attrs => (state, dispatch) => {\n      const { selection } = state;\n      const position = selection.$cursor ? selection.$cursor.pos : selection.$to.pos;\n      const node = type.create(attrs);\n      const transaction = state.tr.insert(position, node);\n      dispatch(transaction);\n    };\n  }\n\n  get view () {\n    return {\n      props: ['node', 'updateAttrs', 'view'],\n      computed: {\n        src: {\n          get () {\n            return this.node.attrs.src;\n          },\n          set (src) {\n            this.updateAttrs({\n              src,\n            });\n          },\n        },\n      },\n      template: `\n        <div class=\"iframe\">\n          <iframe class=\"iframe__embed\" :src=\"src\"></iframe>\n        </div>\n      `,\n    };\n  }\n\n  menuBtnView (editorContext: MenuData) {\n    return {\n      component: IframeCommandButton,\n      componentProps: {\n        editorContext,\n      },\n    };\n  }\n}\n","import { Bold as TiptapBold } from 'tiptap-extensions';\nimport { MenuData } from 'tiptap';\nimport { MenuBtnView } from '@/../types';\nimport { t } from '@/i18n/index';\nimport CommandButton from '@/components/MenuCommands/CommandButton.vue';\n\nexport default class Bold extends TiptapBold implements MenuBtnView {\n  menuBtnView ({ isActive, commands }: MenuData) {\n    return {\n      component: CommandButton,\n      componentProps: {\n        command: commands.bold,\n        isActive: isActive.bold(),\n        icon: 'bold',\n        tooltip: t('editor.extensions.Bold.tooltip'),\n      },\n    };\n  }\n}\n","import { Underline as TiptapUnderline } from 'tiptap-extensions';\nimport { MenuData } from 'tiptap';\nimport { MenuBtnView } from '@/../types';\nimport { t } from '@/i18n/index';\nimport CommandButton from '@/components/MenuCommands/CommandButton.vue';\n\nexport default class Underline extends TiptapUnderline implements MenuBtnView {\n  menuBtnView ({ isActive, commands }: MenuData) {\n    return {\n      component: CommandButton,\n      componentProps: {\n        command: commands.underline,\n        isActive: isActive.underline(),\n        icon: 'underline',\n        tooltip: t('editor.extensions.Underline.tooltip'),\n      },\n    };\n  }\n}\n","import { Italic as TiptapItalic } from 'tiptap-extensions';\nimport { MenuData } from 'tiptap';\nimport { MenuBtnView } from '@/../types';\nimport { t } from '@/i18n/index';\nimport CommandButton from '@/components/MenuCommands/CommandButton.vue';\n\nexport default class Italic extends TiptapItalic implements MenuBtnView {\n  menuBtnView ({ isActive, commands }: MenuData) {\n    return {\n      component: CommandButton,\n      componentProps: {\n        command: commands.italic,\n        isActive: isActive.italic(),\n        icon: 'italic',\n        tooltip: t('editor.extensions.Italic.tooltip'),\n      },\n    };\n  }\n}\n","import { Strike as TiptapStrike } from 'tiptap-extensions';\nimport { MenuData } from 'tiptap';\nimport { MenuBtnView } from '@/../types';\nimport { t } from '@/i18n/index';\nimport CommandButton from '@/components/MenuCommands/CommandButton.vue';\n\nexport default class Strike extends TiptapStrike implements MenuBtnView {\n  menuBtnView ({ isActive, commands }: MenuData) {\n    return {\n      component: CommandButton,\n      componentProps: {\n        command: commands.strike,\n        isActive: isActive.strike(),\n        icon: 'strikethrough',\n        tooltip: t('editor.extensions.Strike.tooltip'),\n      },\n    };\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('command-button',{attrs:{\"is-active\":_vm.editorContext.isActive.link(),\"command\":_vm.openApplyLinkControl,\"tooltip\":_vm.t('editor.extensions.Link.add.tooltip'),\"icon\":\"link\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Mixins } from 'vue-property-decorator';\nimport { MessageBox } from 'element-ui';\nimport { MenuData } from 'tiptap';\nimport i18nMixin from '@/mixins/i18nMixin';\nimport CommandButton from './CommandButton.vue';\n\n@Component({\n  components: {\n    CommandButton,\n  },\n})\nexport default class AddLinkCommandButton extends Mixins(i18nMixin) {\n  @Prop({\n    type: Object,\n    required: true,\n  })\n  readonly editorContext!: MenuData;\n\n  openApplyLinkControl (): void {\n    MessageBox.prompt('', this.t('editor.extensions.Link.add.control.title'), {\n      confirmButtonText: this.t('editor.extensions.Link.add.control.confirm'),\n      cancelButtonText: this.t('editor.extensions.Link.add.control.cancel'),\n      inputPlaceholder: this.t('editor.extensions.Link.add.control.placeholder'),\n      roundButton: true,\n    // @ts-ignore\n    }).then(({ value: href }) => {\n      this.editorContext.commands.link({ href });\n    }).catch(() => {\n\n    });\n  }\n};\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddLinkCommandButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddLinkCommandButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AddLinkCommandButton.vue?vue&type=template&id=16eb4f3c&\"\nimport script from \"./AddLinkCommandButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./AddLinkCommandButton.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { MarkType } from 'prosemirror-model';\nimport { Plugin, TextSelection } from 'prosemirror-state';\nimport { Link as TiptapLink } from 'tiptap-extensions';\n// @ts-ignore\nimport { updateMark, removeMark, CommandFunction } from 'tiptap-commands';\n// @ts-ignore\nimport { getMarkRange } from 'tiptap-utils';\nimport { MenuData } from 'tiptap';\nimport { MenuBtnView } from '@/../types';\nimport AddLinkCommandButton from '@/components/MenuCommands/AddLinkCommandButton.vue';\n\nexport default class Link extends TiptapLink implements MenuBtnView {\n  commands ({ type }: { type: MarkType }) {\n    return {\n      link: (attrs: { href: string }) => {\n        if (attrs.href) {\n          return updateMark(type, attrs);\n        }\n\n        return removeMark(type);\n      },\n\n      unlink: (): CommandFunction => removeMark(type),\n    };\n  }\n\n  get plugins () {\n    return [\n      new Plugin({\n        props: {\n          handleClick (view, pos) {\n            const { schema, doc, tr } = view.state;\n\n            const range = getMarkRange(doc.resolve(pos), schema.marks.link);\n\n            if (!range) return false;\n\n            const $start = doc.resolve(range.from);\n            const $end = doc.resolve(range.to);\n\n            const transaction = tr.setSelection(new TextSelection($start, $end));\n\n            view.dispatch(transaction);\n            return true;\n          },\n        },\n      }),\n    ];\n  }\n\n  menuBtnView (editorContext: MenuData) {\n    return {\n      component: AddLinkCommandButton,\n      componentProps: {\n        editorContext,\n      },\n    };\n  }\n}\n","import { Transaction, SelectionRange } from 'prosemirror-state';\nimport { Node as ProsemirrorNode, MarkType } from 'prosemirror-model';\n\nfunction markApplies (doc: ProsemirrorNode, ranges: Array<SelectionRange>, type: MarkType): boolean {\n  for (let i = 0; i < ranges.length; i++) {\n    const { $from, $to } = ranges[i];\n    let can = $from.depth === 0 ? doc.type.allowsMarkType(type) : false;\n    doc.nodesBetween($from.pos, $to.pos, node => {\n      if (can) return false;\n\n      can = node.inlineContent && node.type.allowsMarkType(type);\n      return true;\n    });\n    if (can) return true;\n  }\n  return false;\n}\n\n// https://github.com/ProseMirror/prosemirror-commands/blob/master/src/commands.js\nexport default function applyMark (tr: Transaction, markType: MarkType, attrs: object | null): Transaction {\n  if (!tr.selection || !tr.doc || !markType) return tr;\n\n  // @ts-ignore\n  const { empty, $cursor, ranges } = tr.selection;\n\n  if ((empty && !$cursor) || !markApplies(tr.doc, ranges, markType)) return tr;\n\n  if ($cursor) {\n    tr = tr.removeStoredMark(markType);\n    return attrs ? tr.addStoredMark(markType.create(attrs)) : tr;\n  }\n\n  let has = false;\n  for (let i = 0; !has && i < ranges.length; i++) {\n    const { $from, $to } = ranges[i];\n    has = tr.doc.rangeHasMark($from.pos, $to.pos, markType);\n  }\n\n  for (let i = 0; i < ranges.length; i++) {\n    const { $from, $to } = ranges[i];\n    if (has) {\n      tr = tr.removeMark($from.pos, $to.pos, markType);\n    }\n    if (attrs) {\n      tr = tr.addMark($from.pos, $to.pos, markType.create(attrs));\n    }\n  }\n\n  return tr;\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-popover',{ref:\"popoverRef\",attrs:{\"placement\":\"bottom\",\"trigger\":\"click\",\"popper-class\":\"el-tiptap-popper\"}},[_c('div',{staticClass:\"colors-container\"},[_c('div',{staticClass:\"predefined-colors__container\"},_vm._l((_vm.predefinedColors),function(color){return _c('div',{key:color,staticClass:\"color__wrapper\"},[_c('div',{staticClass:\"color\",style:({\n            'background-color': color,\n          }),on:{\"click\":function($event){return _vm.selectColor(color)}}})])}),0),(_vm.resetButtonText)?_c('div',{staticClass:\"colors-container__footer\"},[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.selectColor(null)}}},[_vm._v(\" \"+_vm._s(_vm.resetButtonText)+\" \")])],1):_vm._e()]),_c('command-button',{attrs:{\"slot\":\"reference\",\"tooltip\":_vm.tooltip,\"icon\":_vm.icon},slot:\"reference\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Emit, Vue } from 'vue-property-decorator';\nimport { Button, Popover } from 'element-ui';\nimport CommandButton from './CommandButton.vue';\n\n@Component({\n  components: {\n    [Button.name]: Button,\n    [Popover.name]: Popover,\n    CommandButton,\n  },\n})\nexport default class ColorPopover extends Vue {\n  @Prop({\n    type: Array,\n    default: () => [],\n  })\n  readonly predefinedColors!: string[];\n\n  @Prop({\n    type: String,\n    required: true,\n  })\n  readonly tooltip!: string;\n\n  @Prop({\n    type: String,\n    required: true,\n  })\n  readonly icon!: string;\n\n  @Prop({\n    type: String,\n    default: '',\n  })\n  readonly resetButtonText!: string;\n\n  @Emit('select')\n  selectColor (color: string): string {\n    // @ts-ignore\n    this.$refs.popoverRef.doClose();\n\n    return color;\n  }\n};\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorPopover.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorPopover.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ColorPopover.vue?vue&type=template&id=1cb24b85&\"\nimport script from \"./ColorPopover.vue?vue&type=script&lang=ts&\"\nexport * from \"./ColorPopover.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// @ts-nocheck\nimport { Mark, MenuData } from 'tiptap';\nimport { CommandFunction } from 'tiptap-commands';\nimport { MenuBtnView } from '@/../types';\nimport applyMark from '@/utils/apply_mark';\nimport { t } from '@/i18n/index';\nimport { PREDEFINED_COLORS } from '@/constants';\nimport ColorPopover from '@/components/MenuCommands/ColorPopover.vue';\n\nexport default class TextColor extends Mark implements MenuBtnView {\n  get name () {\n    return 'text_color';\n  }\n\n  get defaultOptions () {\n    return {\n      colors: PREDEFINED_COLORS,\n    };\n  }\n\n  get schema () {\n    return {\n      attrs: {\n        color: '',\n      },\n      inline: true,\n      group: 'inline',\n      parseDOM: [{\n        style: 'color',\n        getAttrs: color => {\n          return {\n            color: this.options.colors.includes(color) ? color : '',\n          };\n        },\n      }],\n      toDOM (node) {\n        const { color } = node.attrs;\n        let style = '';\n        if (color) {\n          style += `color: ${color};`;\n        }\n        return ['span', { style }, 0];\n      },\n    };\n  }\n\n  commands () {\n    return (color: string): CommandFunction => (state, dispatch) => {\n      if (color !== undefined) {\n        const { schema } = state;\n        let { tr } = state;\n        const markType = schema.marks.text_color;\n        const attrs = color ? { color } : null;\n        tr = applyMark(\n          state.tr.setSelection(state.selection),\n          markType,\n          attrs\n        );\n        if (tr.docChanged || tr.storedMarksSet) {\n          dispatch && dispatch(tr);\n          return true;\n        }\n      }\n      return false;\n    };\n  }\n\n  menuBtnView (editorContext: MenuData) {\n    return {\n      component: ColorPopover,\n      componentProps: {\n        predefinedColors: this.options.colors,\n        tooltip: t('editor.extensions.TextColor.tooltip'),\n        icon: 'font',\n        resetButtonText: t('editor.extensions.TextColor.reset'),\n      },\n      componentEvents: {\n        select: (color: string) => editorContext.commands.text_color(color),\n      },\n    };\n  }\n}\n","// @ts-nocheck\nimport { Mark, MenuData } from 'tiptap';\nimport { CommandFunction } from 'tiptap-commands';\nimport { MenuBtnView } from '@/../types';\nimport applyMark from '@/utils/apply_mark';\nimport { t } from '@/i18n/index';\nimport { PREDEFINED_COLORS } from '@/constants';\nimport ColorPopover from '../components/MenuCommands/ColorPopover.vue';\n\nexport default class TextHighlight extends Mark implements MenuBtnView {\n  get name () {\n    return 'text_highlight';\n  }\n\n  get defaultOptions () {\n    return {\n      colors: PREDEFINED_COLORS,\n    };\n  }\n\n  get schema () {\n    return {\n      attrs: {\n        highlightColor: '',\n      },\n      inline: true,\n      group: 'inline',\n      parseDOM: [{\n        style: 'span[style*=background-color]',\n        getAttrs: color => {\n          return {\n            highlightColor: this.options.colors.includes(color) ? color : '',\n          };\n        },\n      }],\n      toDOM (node) {\n        const { highlightColor } = node.attrs;\n        let style = '';\n        if (highlightColor) {\n          style += `background-color: ${highlightColor};`;\n        }\n        return ['span', { style }, 0];\n      },\n    };\n  }\n\n  commands () {\n    return (color: string): CommandFunction => (state, dispatch) => {\n      if (color !== undefined) {\n        const { schema } = state;\n        let { tr } = state;\n        const markType = schema.marks.text_highlight;\n        const attrs = color ? { highlightColor: color } : null;\n        tr = applyMark(\n          state.tr.setSelection(state.selection),\n          markType,\n          attrs\n        );\n        if (tr.docChanged || tr.storedMarksSet) {\n          dispatch && dispatch(tr);\n          return true;\n        }\n      }\n      return false;\n    };\n  }\n\n  menuBtnView (editorContext: MenuData) {\n    return {\n      component: ColorPopover,\n      componentProps: {\n        predefinedColors: this.options.colors,\n        tooltip: t('editor.extensions.TextHighlight.tooltip'),\n        icon: 'highlighter',\n        resetButtonText: t('editor.extensions.TextHighlight.reset'),\n      },\n      componentEvents: {\n        select: (color: string) => editorContext.commands.text_highlight(color),\n      },\n    };\n  }\n}\n","import { HorizontalRule as TiptapHorizontalRule } from 'tiptap-extensions';\nimport { MenuData } from 'tiptap';\nimport { MenuBtnView } from '@/../types';\nimport { t } from '@/i18n/index';\nimport CommandButton from '@/components/MenuCommands/CommandButton.vue';\n\nexport default class HorizontalRule extends TiptapHorizontalRule implements MenuBtnView {\n  menuBtnView ({ commands }: MenuData) {\n    return {\n      component: CommandButton,\n      componentProps: {\n        command: commands.horizontal_rule,\n        icon: 'minus',\n        tooltip: t('editor.extensions.HorizontalRule.tooltip'),\n      },\n    };\n  }\n}\n","import { History as TiptapHistory } from 'tiptap-extensions';\nimport { MenuData } from 'tiptap';\nimport { MenuBtnView } from '@/../types';\nimport { t } from '@/i18n/index';\nimport CommandButton from '@/components/MenuCommands/CommandButton.vue';\n\nexport default class History extends TiptapHistory implements MenuBtnView {\n  menuBtnView ({ commands }: MenuData) {\n    return [\n      {\n        component: CommandButton,\n        componentProps: {\n          command: commands.undo,\n          icon: 'undo',\n          tooltip: t('editor.extensions.History.tooltip.undo'),\n        },\n      },\n      {\n        component: CommandButton,\n        componentProps: {\n          command: commands.redo,\n          icon: 'redo',\n          tooltip: t('editor.extensions.History.tooltip.redo'),\n        },\n      },\n    ];\n  }\n}\n","import { EditorState, Transaction } from 'prosemirror-state';\nimport { Node as ProsemirrorNode, NodeType } from 'prosemirror-model';\nimport { Alignment } from '@/constants';\n\nexport function isTextAlignActive (state: EditorState, alignment: Alignment): boolean {\n  const { selection, doc } = state;\n  const { from, to } = selection;\n\n  let keepLooking = true;\n  let active = false;\n\n  doc.nodesBetween(from, to, (node) => {\n    if (keepLooking && node.attrs.textAlign === alignment) {\n      keepLooking = false;\n      active = true;\n    }\n    return keepLooking;\n  });\n\n  return active;\n}\n\nconst ALLOWED_NODE_TYPES = [\n  'paragraph',\n  'heading',\n  'list_item',\n  'todo_item',\n];\n\ninterface SetTextAlignTask {\n  node: ProsemirrorNode,\n  nodeType: NodeType,\n  pos: number,\n}\n\nexport function setTextAlign (tr: Transaction, alignment: Alignment | null): Transaction {\n  const { selection, doc } = tr;\n\n  if (!selection || !doc) {\n    return tr;\n  }\n\n  const { from, to } = selection;\n\n  const tasks: Array<SetTextAlignTask> = [];\n  alignment = alignment || null;\n\n  doc.nodesBetween(from, to, (node, pos) => {\n    const nodeType = node.type;\n    if (ALLOWED_NODE_TYPES.includes(nodeType.name)) {\n      const align = node.attrs.textAlign || null;\n      if (align !== alignment) {\n        tasks.push({\n          node,\n          pos,\n          nodeType,\n        });\n\n        return nodeType.name !== 'list_item' && nodeType.name !== 'todo_item';\n      }\n    }\n    return true;\n  });\n\n  if (!tasks.length) return tr;\n\n  tasks.forEach(job => {\n    const { node, pos, nodeType } = job;\n    let { attrs } = node;\n    attrs = {\n      ...attrs,\n      textAlign: alignment,\n    };\n\n    tr = tr.setNodeMarkup(pos, nodeType, attrs, node.marks);\n  });\n\n  return tr;\n}\n","import { Extension, MenuData, CommandGetter } from 'tiptap';\nimport { CommandFunction } from 'tiptap-commands';\nimport { MenuBtnView, MenuBtnComponentOptions } from '@/../types';\nimport { setTextAlign, isTextAlignActive } from '@/utils/text_align';\nimport { t } from '@/i18n/index';\nimport { Alignment, ALIGN_PATTERN } from '@/constants';\nimport CommandButton from '@/components/MenuCommands/CommandButton.vue';\n\nexport default class TextAlign extends Extension implements MenuBtnView {\n  get name () {\n    return 'text_align';\n  }\n\n  get defaultOptions () {\n    return {\n      alignments: [\n        Alignment.left,\n        Alignment.center,\n        Alignment.right,\n        Alignment.justify,\n      ],\n    };\n  }\n\n  commands () {\n    return this.options.alignments.reduce((commands: CommandGetter, alignment: Alignment) => {\n      if (!ALIGN_PATTERN.test(alignment)) return commands;\n\n      return {\n        ...commands,\n        [`align_${alignment}`]: (): CommandFunction => (state, dispatch) => {\n          const { selection } = state;\n          const tr = setTextAlign(\n            state.tr.setSelection(selection),\n            alignment === 'left' ? null : alignment,\n          );\n\n          if (tr.docChanged) {\n            dispatch && dispatch(tr);\n            return true;\n          } else {\n            return false;\n          }\n        },\n      };\n    }, {});\n  }\n\n  menuBtnView ({ commands, editor }: MenuData) {\n    return this.options.alignments.reduce((views: Array<MenuBtnComponentOptions>, alignment: Alignment) => {\n      if (!ALIGN_PATTERN.test(alignment)) return views;\n\n      const isActive = alignment === 'left'\n        ? false\n        : isTextAlignActive(editor.state, alignment);\n\n      return views.concat({\n        component: CommandButton,\n        componentProps: {\n          isActive,\n          command: commands[`align_${alignment}`],\n          icon: `align-${alignment}`,\n          tooltip: t(`editor.extensions.TextAlign.buttons.align_${alignment}.tooltip`),\n        },\n      });\n    }, []);\n  }\n}\n","import { TextSelection, AllSelection, Transaction } from 'prosemirror-state';\nimport { CommandFunction } from 'tiptap-commands';\nimport { isListNode } from './list';\nimport { clamp } from './shared';\n\nexport const enum IndentProps {\n  max = 7,\n  min = 0,\n\n  more = 1,\n  less = -1,\n}\n\nfunction updateIndentLevel (tr: Transaction, delta: number): Transaction {\n  const { doc, selection } = tr;\n\n  if (!doc || !selection) return tr;\n\n  if (!(selection instanceof TextSelection || selection instanceof AllSelection)) {\n    return tr;\n  }\n\n  const { from, to } = selection;\n\n  doc.nodesBetween(from, to, (node, pos) => {\n    const nodeType = node.type;\n\n    if (\n      nodeType.name === 'paragraph' ||\n      nodeType.name === 'heading' ||\n      nodeType.name === 'blockquote'\n    ) {\n      tr = setNodeIndentMarkup(tr, pos, delta);\n      return false;\n    } else if (isListNode(node)) {\n      return false;\n    }\n    return true;\n  });\n\n  return tr;\n}\n\nfunction setNodeIndentMarkup (tr: Transaction, pos: number, delta: number): Transaction {\n  if (!tr.doc) return tr;\n\n  const node = tr.doc.nodeAt(pos);\n  if (!node) return tr;\n\n  const minIndent = IndentProps.min;\n  const maxIndent = IndentProps.max;\n\n  const indent = clamp(\n    (node.attrs.indent || 0) + delta,\n    minIndent,\n    maxIndent,\n  );\n\n  if (indent === node.attrs.indent) return tr;\n\n  const nodeAttrs = {\n    ...node.attrs,\n    indent,\n  };\n\n  return tr.setNodeMarkup(pos, node.type, nodeAttrs, node.marks);\n}\n\nexport function createIndentCommand (delta: number): CommandFunction {\n  return (state, dispatch) => {\n    const { selection } = state;\n    let { tr } = state;\n    tr = tr.setSelection(selection);\n    tr = updateIndentLevel(tr, delta);\n\n    if (tr.docChanged) {\n      dispatch && dispatch(tr);\n      return true;\n    }\n\n    return false;\n  };\n}\n","import { Node } from 'prosemirror-model';\n\nexport function isBulletListNode (node: Node): boolean {\n  return node.type.name === 'bullet_list';\n}\n\nexport function isOrderedListNode (node: Node): boolean {\n  return node.type.name === 'order_list';\n}\n\nexport function isTodoListNode (node: Node): boolean {\n  return node.type.name === 'todo_list';\n}\n\nexport function isListNode (node: Node): boolean {\n  return isBulletListNode(node) ||\n    isOrderedListNode(node) ||\n    isTodoListNode(node);\n}\n","import { Extension, MenuData } from 'tiptap';\nimport { MenuBtnView } from '@/../types';\nimport { createIndentCommand, IndentProps } from '@/utils/indent';\nimport { t } from '@/i18n/index';\nimport CommandButton from '@/components/MenuCommands/CommandButton.vue';\n\nexport default class Indent extends Extension implements MenuBtnView {\n  get name () {\n    return 'indent';\n  }\n\n  get defaultOptions () {\n    return {\n      minIndent: IndentProps.min,\n      maxIndent: IndentProps.max,\n    };\n  }\n\n  commands () {\n    return {\n      indent: () => createIndentCommand(IndentProps.more),\n      outdent: () => createIndentCommand(IndentProps.less),\n    };\n  }\n\n  keys () {\n    return {\n      Tab: createIndentCommand(IndentProps.more),\n      'Shift-Tab': createIndentCommand(IndentProps.less),\n    };\n  }\n\n  menuBtnView ({ commands }: MenuData) {\n    return [\n      {\n        component: CommandButton,\n        componentProps: {\n          command: commands.indent,\n          icon: 'indent',\n          tooltip: t('editor.extensions.Indent.buttons.indent.tooltip'),\n        },\n      },\n      {\n        component: CommandButton,\n        componentProps: {\n          command: commands.outdent,\n          icon: 'outdent',\n          tooltip: t('editor.extensions.Indent.buttons.outdent.tooltip'),\n        },\n      },\n    ];\n  }\n}\n","import { Transaction } from 'prosemirror-state';\nimport { Node as ProsemirrorNode, Mark as ProsemirrorMark, Schema } from 'prosemirror-model';\nimport { setTextAlign } from './text_align';\nimport { setTextLineHeight } from './line_height';\n\nconst enum FormatMarks {\n  bold = 'bold',\n  italic = 'italic',\n  underline = 'underline',\n  strike = 'strike',\n  link = 'link',\n  textColor = 'text_color',\n  textHighlight = 'text_highlight',\n}\n\nconst FORMAT_MARK_NAMES: FormatMarks[] = [\n  FormatMarks.bold,\n  FormatMarks.italic,\n  FormatMarks.underline,\n  FormatMarks.strike,\n  FormatMarks.link,\n  FormatMarks.textColor,\n  FormatMarks.textHighlight,\n];\n\ninterface ClearMarksTask {\n  node: ProsemirrorNode,\n  mark: ProsemirrorMark,\n  pos: number,\n}\n\nexport function clearMarks (tr: Transaction, schema: Schema): Transaction {\n  const { doc, selection } = tr;\n  if (!selection || !doc) return tr;\n\n  const { from, to, empty } = selection;\n  if (empty) return tr;\n\n  const markTypesToRemove = new Set(\n    FORMAT_MARK_NAMES.map(n => schema.marks[n]).filter(Boolean)\n  );\n\n  if (!markTypesToRemove.size) return tr;\n\n  const tasks: ClearMarksTask[] = [];\n  doc.nodesBetween(from, to, (node, pos) => {\n    if (node.marks && node.marks.length) {\n      node.marks.some(mark => {\n        if (markTypesToRemove.has(mark.type)) {\n          tasks.push({ node, pos, mark });\n        }\n      });\n      return true;\n    }\n    return true;\n  });\n\n  tasks.forEach(job => {\n    const { node, mark, pos } = job;\n    tr = tr.removeMark(pos, pos + node.nodeSize, mark.type);\n  });\n\n  tr = setTextAlign(tr, null);\n  tr = setTextLineHeight(tr, null);\n\n  return tr;\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dropdown',{attrs:{\"placement\":\"bottom\",\"trigger\":\"click\"},on:{\"command\":function (lineHeight) { return _vm.editorContext.commands.line_height({ lineHeight: lineHeight }); }}},[_c('command-button',{attrs:{\"tooltip\":_vm.t('editor.extensions.LineHeight.tooltip'),\"icon\":\"text-height\"}}),_c('el-dropdown-menu',{staticClass:\"el-tiptap-dropdown-menu\",attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},_vm._l((_vm.lineHeights),function(lineHeight){return _c('el-dropdown-item',{key:lineHeight,staticClass:\"el-tiptap-dropdown-menu__item\",class:{\n        'el-tiptap-dropdown-menu__item--active': _vm.isLineHeightActive(lineHeight),\n      },attrs:{\"command\":lineHeight}},[_c('span',[_vm._v(_vm._s(lineHeight))])])}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Mixins } from 'vue-property-decorator';\nimport { MenuData } from 'tiptap';\nimport { Dropdown, DropdownMenu, DropdownItem } from 'element-ui';\nimport i18nMixin from '@/mixins/i18nMixin';\nimport { isLineHeightActive } from '@/utils/line_height';\nimport CommandButton from './CommandButton.vue';\n\n@Component({\n  components: {\n    [Dropdown.name]: Dropdown,\n    [DropdownMenu.name]: DropdownMenu,\n    [DropdownItem.name]: DropdownItem,\n    CommandButton,\n  },\n})\nexport default class LineHeightDropdown extends Mixins(i18nMixin) {\n  @Prop({\n    type: Object,\n    required: true,\n  })\n  readonly editorContext!: MenuData;\n\n  private get editor () {\n    return this.editorContext.editor;\n  }\n\n  private get lineHeights () {\n    return this.editor.extensions.options.line_height.lineHeights;\n  }\n\n  private isLineHeightActive (lineHeight: string): boolean {\n    return isLineHeightActive(this.editor.state, lineHeight);\n  }\n};\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LineHeightDropdown.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LineHeightDropdown.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LineHeightDropdown.vue?vue&type=template&id=1629ba4e&\"\nimport script from \"./LineHeightDropdown.vue?vue&type=script&lang=ts&\"\nexport * from \"./LineHeightDropdown.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { Extension, MenuData } from 'tiptap';\nimport { MenuBtnView } from '@/../types';\nimport { createLineHeightCommand } from '@/utils/line_height';\nimport LineHeightDropdown from '@/components/MenuCommands/LineHeightDropdown.vue';\n\nexport default class LineHeight extends Extension implements MenuBtnView {\n  get name () {\n    return 'line_height';\n  }\n\n  get defaultOptions () {\n    return {\n      lineHeights: [\n        '100%',\n        '115%',\n        '150%',\n        '200%',\n        '250%',\n        '300%',\n      ]\n    };\n  }\n\n  commands () {\n    return ({ lineHeight }: { lineHeight: string }) => createLineHeightCommand(lineHeight);\n  }\n\n  menuBtnView (editorContext: MenuData) {\n    return {\n      component: LineHeightDropdown,\n      componentProps: {\n        editorContext,\n      },\n    };\n  }\n}\n","import { Extension, MenuData } from 'tiptap';\nimport { CommandFunction } from 'tiptap-commands';\nimport { MenuBtnView } from '@/../types';\nimport { clearMarks } from '@/utils/format_clear';\nimport { t } from '@/i18n/index';\nimport CommandButton from '@/components/MenuCommands/CommandButton.vue';\n\nexport default class FormatClear extends Extension implements MenuBtnView {\n  get name () {\n    return 'format_clear';\n  }\n\n  commands () {\n    return (): CommandFunction => (state, dispatch) => {\n      const tr = clearMarks(state.tr.setSelection(state.selection), state.schema);\n\n      if (dispatch && tr.docChanged) {\n        dispatch(tr);\n        return true;\n      }\n      return false;\n    };\n  }\n\n  menuBtnView ({ commands }: MenuData) {\n    return {\n      component: CommandButton,\n      componentProps: {\n        command: commands.format_clear,\n        icon: 'remove-format',\n        tooltip: t('editor.extensions.FormatClear.tooltip'),\n      },\n    };\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('command-button',{attrs:{\"command\":_vm.toggleFullScreen,\"tooltip\":_vm.buttonTooltip,\"icon\":_vm.isFullscreen ? 'compress' : 'expand'}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// @ts-nocheck\nimport { warn } from '@/utils/console';\nimport { ELEMENT_TIPTAP_TIP } from '@/constants';\n\nexport function supportFullScreen (): boolean {\n  const doc = document.documentElement;\n\n  return ('requestFullscreen' in doc) ||\n    ('mozRequestFullScreen' in doc && document.mozFullScreenEnabled) ||\n    ('msRequestFullscreen' in doc && document.msFullscreenEnabled) ||\n    ('webkitRequestFullScreen' in doc);\n}\n\nexport function fullscreenStatus (): boolean {\n  if (document.fullscreen ||\n    document.mozFullScreen ||\n    document.fullscreenElement ||\n    document.msFullscreenElement ||\n    document.webkitIsFullScreen) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nexport function requestFullscreen (element: Element): void {\n  if (element.requestFullscreen) {\n    element.requestFullscreen();\n  } else if (element.webkitRequestFullscreen) {\n    element.webkitRequestFullscreen();\n  } else if (element.mozRequestFullScreen) {\n    element.mozRequestFullScreen();\n  } else if (element.msRequestFullscreen) {\n    element.msRequestFullscreen();\n  } else {\n    warn(`[${ELEMENT_TIPTAP_TIP}] Fullscreen API is not supported.`);\n  }\n}\n\nexport function exitFullscreen (): void {\n  if (document.exitFullscreen) {\n    document.exitFullscreen();\n  } else if (document.webkitExitFullscreen) {\n    document.webkitExitFullscreen();\n  } else if (document.mozCancelFullScreen) {\n    document.mozCancelFullScreen();\n  } else if (document.msExitFullscreen) {\n    document.msExitFullscreen();\n  } else {\n    warn(`[${ELEMENT_TIPTAP_TIP}] Fullscreen API is not supported.`);\n  }\n}\n\nexport function onFullScreenEvent (callback: EventListenerOrEventListenerObject): void {\n  document.addEventListener('fullscreenchange', callback);\n  document.addEventListener('mozfullscreenchange', callback);\n  document.addEventListener('MSFullscreenChange', callback);\n  document.addEventListener('webkitfullscreenchange', callback);\n}\n\nexport function offFullScreenEvent (callback: EventListenerOrEventListenerObject): void {\n  document.removeEventListener('fullscreenchange', callback);\n  document.removeEventListener('mozfullscreenchange', callback);\n  document.removeEventListener('MSFullscreenChange', callback);\n  document.removeEventListener('webkitfullscreenchange', callback);\n}\n","\n\n\n\n\n\n\n\n\nimport { Component, Mixins } from 'vue-property-decorator';\nimport i18nMixin from '@/mixins/i18nMixin';\nimport {\n  fullscreenStatus,\n  requestFullscreen,\n  exitFullscreen,\n  onFullScreenEvent,\n  offFullScreenEvent,\n} from '@/utils/fullscreen';\nimport CommandButton from './CommandButton.vue';\n\n@Component({\n  components: {\n    CommandButton,\n  },\n})\nexport default class FullscreenCommandButton extends Mixins(i18nMixin) {\n  isFullscreen = false;\n\n  private get buttonTooltip () {\n    return this.isFullscreen\n      ? this.t('editor.extensions.Fullscreen.tooltip.exit_fullscreen')\n      : this.t('editor.extensions.Fullscreen.tooltip.fullscreen');\n  }\n\n  private mounted () {\n    onFullScreenEvent(this.onFullscreenChange);\n  }\n\n  private beforeDestroy () {\n    offFullScreenEvent(this.onFullscreenChange);\n  }\n\n  onFullscreenChange () {\n    this.isFullscreen = fullscreenStatus();\n  }\n\n  toggleFullScreen () {\n    if (this.isFullscreen) {\n      exitFullscreen();\n    } else {\n      const editorEl = this.$el.closest('.el-tiptap-editor');\n      if (editorEl) requestFullscreen(editorEl);\n    }\n  }\n};\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FullscreenCommandButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FullscreenCommandButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FullscreenCommandButton.vue?vue&type=template&id=ee7488a0&\"\nimport script from \"./FullscreenCommandButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./FullscreenCommandButton.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { Extension } from 'tiptap';\nimport { MenuBtnView } from '@/../types';\nimport FullscreenCommandButton from '@/components/MenuCommands/FullscreenCommandButton.vue';\n\nexport default class Fullscreen extends Extension implements MenuBtnView {\n  get name () {\n    return 'fullscreen';\n  }\n\n  menuBtnView () {\n    return {\n      component: FullscreenCommandButton,\n    };\n  }\n}\n","function printHtml (dom: Element) {\n  const style :string = Array.from(document.querySelectorAll('style, link'))\n    .reduce((str, style) => str + style.outerHTML, '');\n\n  const content: string = style + dom.outerHTML;\n\n  const iframe: HTMLIFrameElement = document.createElement('iframe');\n  iframe.id = 'el-tiptap-iframe';\n  iframe.setAttribute('style', 'position: absolute; width: 0; height: 0; top: -10px; left: -10px;');\n  document.body.appendChild(iframe);\n\n  const frameWindow = iframe.contentWindow;\n  const doc = iframe.contentDocument || (iframe.contentWindow && iframe.contentWindow.document);\n\n  if (doc) {\n    doc.open();\n    doc.write(content);\n    doc.close();\n  }\n\n  if (frameWindow) {\n    iframe.onload = function () {\n      try {\n        setTimeout(() => {\n          frameWindow.focus();\n          try {\n            if (!frameWindow.document.execCommand('print', false)) {\n              frameWindow.print();\n            }\n          } catch (e) {\n            frameWindow.print();\n          }\n          frameWindow.close();\n        }, 10);\n      } catch (err) {\n        console.log(err);\n      }\n\n      setTimeout(function () {\n        document.body.removeChild(iframe);\n      }, 100);\n    };\n  }\n}\n\nexport default printHtml;\n","import { Extension, MenuData } from 'tiptap';\nimport { CommandFunction } from 'tiptap-commands';\nimport { MenuBtnView } from '@/../types';\nimport { t } from '@/i18n/index';\nimport CommandButton from '@/components/MenuCommands/CommandButton.vue';\nimport printHtml from '../utils/print';\n\nexport default class Print extends Extension implements MenuBtnView {\n  get name () {\n    return 'print';\n  }\n\n  commands () {\n    return (): CommandFunction => (_state, _dispatch, view) => {\n      const editorContent = view.dom.closest('.el-tiptap-editor__content');\n      if (editorContent) {\n        printHtml(editorContent);\n        return true;\n      }\n      return false;\n    };\n  }\n\n  menuBtnView ({ commands }: MenuData) {\n    return {\n      component: CommandButton,\n      componentProps: {\n        command: commands.print,\n        icon: 'print',\n        tooltip: t('editor.extensions.Print.tooltip'),\n      },\n    };\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('command-button',{attrs:{\"command\":_vm.togglePreviewDialogVisible,\"tooltip\":_vm.t('editor.extensions.Preview.tooltip'),\"icon\":\"eye\"}}),_c('el-dialog',{attrs:{\"title\":_vm.t('editor.extensions.Preview.dialog.title'),\"visible\":_vm.previewDialogVisible,\"width\":_vm.contentWidth},on:{\"update:visible\":function($event){_vm.previewDialogVisible=$event}}},[_c('div',{staticClass:\"el-tiptap-editor__content\"},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.html)}})])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Watch, Mixins } from 'vue-property-decorator';\nimport { Dialog } from 'element-ui';\nimport { MenuData } from 'tiptap';\nimport { PREVIEW_WINDOW_WIDTH } from '@/constants';\nimport i18nMixin from '@/mixins/i18nMixin';\nimport CommandButton from './CommandButton.vue';\n\n@Component({\n  components: {\n    [Dialog.name]: Dialog,\n    CommandButton,\n  },\n})\nexport default class PreviewCommandButton extends Mixins(i18nMixin) {\n  @Prop({\n    type: Object,\n    required: true,\n  })\n  readonly editorContext!: MenuData;\n\n  @Prop({\n    type: String,\n    default: PREVIEW_WINDOW_WIDTH,\n  })\n  readonly contentWidth!: string;\n\n  html: string = '';\n  previewDialogVisible: boolean = false;\n\n  @Watch('previewDialogVisible')\n  onVisibleChange (visible: boolean) {\n    if (visible) this.getHtml();\n  }\n\n  togglePreviewDialogVisible () {\n    this.previewDialogVisible = !this.previewDialogVisible;\n  }\n\n  getHtml () {\n    this.html = this.editorContext.editor.getHTML();\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreviewCommandButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreviewCommandButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PreviewCommandButton.vue?vue&type=template&id=5aaf8f15&\"\nimport script from \"./PreviewCommandButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./PreviewCommandButton.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { Extension, MenuData } from 'tiptap';\nimport { MenuBtnView } from '@/../types';\nimport { PREVIEW_WINDOW_WIDTH } from '@/constants';\nimport PreviewCommandButton from '@/components/MenuCommands/PreviewCommandButton.vue';\n\nexport default class Preview extends Extension implements MenuBtnView {\n  get name () {\n    return 'preview';\n  }\n\n  get defaultOptions () {\n    return {\n      contentWidth: PREVIEW_WINDOW_WIDTH,\n    };\n  }\n\n  menuBtnView (editorContext: MenuData) {\n    return {\n      component: PreviewCommandButton,\n      componentProps: {\n        editorContext,\n        contentWidth: this.options.contentWidth,\n      },\n    };\n  }\n}\n","import { selectAll } from 'prosemirror-commands';\nimport { Extension, MenuData } from 'tiptap';\nimport { CommandFunction } from 'tiptap-commands';\nimport { MenuBtnView } from '@/../types';\nimport { t } from '@/i18n/index';\nimport CommandButton from '@/components/MenuCommands/CommandButton.vue';\n\nexport default class SelectAll extends Extension implements MenuBtnView {\n  get name () {\n    return 'select_all';\n  }\n\n  commands () {\n    return (): CommandFunction => selectAll;\n  }\n\n  menuBtnView ({ commands }: MenuData) {\n    return {\n      component: CommandButton,\n      componentProps: {\n        command: commands.select_all,\n        icon: 'regular/object-group',\n        tooltip: t('editor.extensions.SelectAll.tooltip'),\n      },\n    };\n  }\n}\n","export { Doc, Text } from 'tiptap';\n\nexport {\n  Code,\n  HardBreak,\n  TrailingNode,\n  TableHeader,\n  TableCell,\n  TableRow,\n} from 'tiptap-extensions';\n\n// nodes\nexport { default as Paragraph } from './paragraph';\nexport { default as Heading } from './heading';\nexport { default as Blockquote } from './blockquote';\nexport { default as CodeBlock } from './code_block';\nexport { default as ListItem } from './list_item';\nexport { default as BulletList } from './bullet_list';\nexport { default as OrderedList } from './ordered_list';\nexport { default as Image } from './image';\nexport { default as TodoItem } from './todo_item';\nexport { default as TodoList } from './todo_list';\nexport { default as Table } from './table';\nexport { default as Iframe } from './iframe';\n\n// marks\nexport { default as Bold } from './bold';\nexport { default as Underline } from './underline';\nexport { default as Italic } from './italic';\nexport { default as Strike } from './strike';\nexport { default as Link } from './link';\nexport { default as TextColor } from './text_color';\nexport { default as TextHighlight } from './text_highlight';\n\n// extensions\nexport { default as HorizontalRule } from './horizontal_rule';\nexport { default as History } from './history';\nexport { default as TextAlign } from './text_align';\nexport { default as Indent } from './indent';\nexport { default as LineHeight } from './line_height';\nexport { default as FormatClear } from './format_clear';\nexport { default as Fullscreen } from './fullscreen';\nexport { default as Print } from './print';\nexport { default as Preview } from './preview';\nexport { default as SelectAll } from './select_all';\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","export default {\n  editor: {\n    extensions: {\n      Bold: {\n        tooltip: 'Bold',\n      },\n      Underline: {\n        tooltip: 'Underline',\n      },\n      Italic: {\n        tooltip: 'Italic',\n      },\n      Strike: {\n        tooltip: 'Strike through',\n      },\n      Heading: {\n        tooltip: 'Heading',\n        buttons: {\n          paragraph: 'Paragraph',\n          heading: 'Heading',\n        }\n      },\n      Blockquote: {\n        tooltip: 'Block quote',\n      },\n      CodeBlock: {\n        tooltip: 'Code block',\n      },\n      Link: {\n        add: {\n          tooltip: 'Apply link',\n          control: {\n            title: 'Apply Link',\n            placeholder: 'Href',\n            confirm: 'Apply',\n            cancel: 'Cancel',\n          },\n        },\n        edit: {\n          tooltip: 'Edit link',\n          control: {\n            title: 'Edit Link',\n            placeholder: 'Href',\n            confirm: 'Update',\n            cancel: 'Cancel',\n          },\n        },\n        unlink: {\n          tooltip: 'Unlink',\n        },\n        open: {\n          tooltip: 'Open link',\n        },\n      },\n      Image: {\n        tooltip: 'Insert image',\n        buttons: {\n          insert_by_url: 'Insert Image By Url',\n          upload_image: 'Upload Image',\n        },\n        control: {\n          insert_by_url: {\n            title: 'Insert image',\n            placeholder: 'Url of image',\n            confirm: 'Insert',\n            cancel: 'Cancel',\n            invalid_url: 'Please enter the correct url',\n          },\n          upload_image: {\n            title: 'Upload image',\n            button: 'Choose an image file or drag it here',\n          },\n        },\n      },\n      Iframe: {\n        tooltip: 'Insert video',\n        control: {\n          title: 'Insert video',\n          placeholder: 'Href',\n          confirm: 'Insert',\n          cancel: 'Cancel',\n        },\n      },\n      BulletList: {\n        tooltip: 'Bullet list',\n      },\n      OrderedList: {\n        tooltip: 'Ordered list',\n      },\n      TodoList: {\n        tooltip: 'Todo list',\n      },\n      TextAlign: {\n        buttons: {\n          align_left: {\n            tooltip: 'Align left',\n          },\n          align_center: {\n            tooltip: 'Align center',\n          },\n          align_right: {\n            tooltip: 'Align right',\n          },\n          align_justify: {\n            tooltip: 'Align justify',\n          },\n        },\n      },\n      TextColor: {\n        tooltip: 'Text color',\n        reset: 'Clear',\n      },\n      TextHighlight: {\n        tooltip: 'Text highlight',\n        reset: 'Transparent',\n      },\n      LineHeight: {\n        tooltip: 'Line height',\n      },\n      Table: {\n        tooltip: 'Table',\n        buttons: {\n          insert_table: 'Insert Table',\n          add_column_before: 'Add Column Before',\n          add_column_after: 'Add Column After',\n          delete_column: 'Delete Column',\n          add_row_before: 'Add Row Before',\n          add_row_after: 'Add Row After',\n          delete_row: 'Delete Row',\n          merge_cells: 'Merge Cells',\n          split_cell: 'Split Cell',\n          delete_table: 'Delete Table',\n        },\n      },\n      Indent: {\n        buttons: {\n          indent: {\n            tooltip: 'Indent',\n          },\n          outdent: {\n            tooltip: 'Outdent',\n          },\n        },\n      },\n      FormatClear: {\n        tooltip: 'Clear format',\n      },\n      HorizontalRule: {\n        tooltip: 'Horizontal rule',\n      },\n      History: {\n        tooltip: {\n          undo: 'Undo',\n          redo: 'Redo',\n        },\n      },\n      Fullscreen: {\n        tooltip: {\n          fullscreen: 'Full screen',\n          exit_fullscreen: 'Exit full screen',\n        },\n      },\n      Print: {\n        tooltip: 'Print',\n      },\n      Preview: {\n        tooltip: 'Preview',\n        dialog: {\n          title: 'Preview',\n        },\n      },\n      SelectAll: {\n        tooltip: 'Select all',\n      },\n    },\n    characters: 'Characters',\n  },\n};\n","export default {\n  editor: {\n    extensions: {\n      Bold: {\n        tooltip: '',\n      },\n      Underline: {\n        tooltip: '',\n      },\n      Italic: {\n        tooltip: '',\n      },\n      Strike: {\n        tooltip: '',\n      },\n      Heading: {\n        tooltip: '',\n        buttons: {\n          paragraph: '',\n          heading: '',\n        }\n      },\n      Blockquote: {\n        tooltip: '',\n      },\n      CodeBlock: {\n        tooltip: '',\n      },\n      Link: {\n        add: {\n          tooltip: '',\n          control: {\n            title: '',\n            placeholder: '',\n            confirm: '',\n            cancel: '',\n          },\n        },\n        edit: {\n          tooltip: '',\n          control: {\n            title: '',\n            placeholder: '',\n            confirm: '',\n            cancel: '',\n          },\n        },\n        unlink: {\n          tooltip: '',\n        },\n        open: {\n          tooltip: '',\n        },\n      },\n      Image: {\n        tooltip: '',\n        buttons: {\n          insert_by_url: '',\n          upload_image: '',\n        },\n        control: {\n          insert_by_url: {\n            title: '',\n            placeholder: '',\n            confirm: '',\n            cancel: '',\n            invalid_url: '',\n          },\n          upload_image: {\n            title: '',\n            button: '',\n          },\n        },\n      },\n      Iframe: {\n        tooltip: '',\n        control: {\n          title: '',\n          placeholder: '',\n          confirm: '',\n          cancel: '',\n        },\n      },\n      BulletList: {\n        tooltip: '',\n      },\n      OrderedList: {\n        tooltip: '',\n      },\n      TodoList: {\n        tooltip: '',\n      },\n      TextAlign: {\n        buttons: {\n          align_left: {\n            tooltip: '',\n          },\n          align_center: {\n            tooltip: '',\n          },\n          align_right: {\n            tooltip: '',\n          },\n          align_justify: {\n            tooltip: '',\n          },\n        },\n      },\n      TextColor: {\n        tooltip: '',\n        reset: '',\n      },\n      TextHighlight: {\n        tooltip: '',\n        reset: '',\n      },\n      LineHeight: {\n        tooltip: '',\n      },\n      Table: {\n        tooltip: '',\n        buttons: {\n          insert_table: '',\n          add_column_before: '',\n          add_column_after: '',\n          delete_column: '',\n          add_row_before: '',\n          add_row_after: '',\n          delete_row: '',\n          merge_cells: '',\n          split_cell: '',\n          delete_table: '',\n        },\n      },\n      Indent: {\n        buttons: {\n          indent: {\n            tooltip: '',\n          },\n          outdent: {\n            tooltip: '',\n          },\n        },\n      },\n      FormatClear: {\n        tooltip: '',\n      },\n      HorizontalRule: {\n        tooltip: '',\n      },\n      History: {\n        tooltip: {\n          undo: '',\n          redo: '',\n        },\n      },\n      Fullscreen: {\n        tooltip: {\n          fullscreen: '',\n          exit_fullscreen: '',\n        },\n      },\n      Print: {\n        tooltip: '',\n      },\n      Preview: {\n        tooltip: '',\n        dialog: {\n          title: '',\n        },\n      },\n      SelectAll: {\n        tooltip: '',\n      },\n    },\n    characters: '',\n  },\n};\n","export default {\n  editor: {\n    extensions: {\n      Bold: {\n        tooltip: 'Pogrubienie',\n      },\n      Underline: {\n        tooltip: 'Podkrelenie',\n      },\n      Italic: {\n        tooltip: 'Kursywa',\n      },\n      Strike: {\n        tooltip: 'Przekrelenie',\n      },\n      Heading: {\n        tooltip: 'Nagwek',\n        buttons: {\n          paragraph: 'Paragraf',\n          heading: 'Nagwek',\n        }\n      },\n      Blockquote: {\n        tooltip: 'Cytat',\n      },\n      CodeBlock: {\n        tooltip: 'Kod',\n      },\n      Link: {\n        add: {\n          tooltip: 'Dodaj link',\n          control: {\n            title: 'Dodaj Link',\n            placeholder: 'rdo',\n            confirm: 'Dodaj',\n            cancel: 'Anuluj',\n          },\n        },\n        edit: {\n          tooltip: 'Edytuj link',\n          control: {\n            title: 'Edytuj link',\n            placeholder: 'rdo',\n            confirm: 'aktualizacja',\n            cancel: 'Anuluj',\n          },\n        },\n        unlink: {\n          tooltip: 'Odczepi',\n        },\n        open: {\n          tooltip: 'Otwrz link',\n        },\n      },\n      Image: {\n        tooltip: 'Dodaj obraz',\n        buttons: {\n          insert_by_url: 'Dodaj obraz online',\n          upload_image: 'Dodaj obraz z dysku',\n        },\n        control: {\n          insert_by_url: {\n            title: 'Dodawanie obrazu online',\n            placeholder: 'URL obrazu',\n            confirm: 'Dodaj',\n            cancel: 'Zamknij',\n            invalid_url: 'Prosz poda prawidowy link prowadzcy do obrazu',\n          },\n          upload_image: {\n            title: 'Dodawanie obrazu z dysku',\n            button: 'Wska obraz lub przecignij go tutaj',\n          },\n        },\n      },\n      Iframe: {\n        tooltip: 'Dodaj film',\n        control: {\n          title: 'Dodaj film',\n          placeholder: 'URL filmu',\n          confirm: 'Dodaj',\n          cancel: 'Zamknij',\n        },\n      },\n      BulletList: {\n        tooltip: 'Lista wypunktowana',\n      },\n      OrderedList: {\n        tooltip: 'Lista uporzdkowana',\n      },\n      TodoList: {\n        tooltip: 'Lista rzeczy do zrobienia',\n      },\n      TextAlign: {\n        buttons: {\n          align_left: {\n            tooltip: 'Wyrwnaj do lewej',\n          },\n          align_center: {\n            tooltip: 'Wyrodkuj',\n          },\n          align_right: {\n            tooltip: 'Wyrwnaj do prawej',\n          },\n          align_justify: {\n            tooltip: 'Wyjustuj',\n          },\n        },\n      },\n      TextColor: {\n        tooltip: 'Kolor tekstu',\n        reset: 'Wyczy',\n      },\n      TextHighlight: {\n        tooltip: 'Podwietlenie tekstu',\n        reset: 'Przezroczysty',\n      },\n      LineHeight: {\n        tooltip: 'Wysoko linii',\n      },\n      Table: {\n        tooltip: 'Tabela',\n        buttons: {\n          insert_table: 'Dodaj tabel',\n          add_column_before: 'Dodaj kolumn przed',\n          add_column_afer: 'Dodaj kolumn za',\n          delete_column: 'Usu kolumn',\n          add_row_before: 'Dodaj wiersz przed',\n          add_row_after: 'Dodaj wiersz za',\n          delete_row: 'Usu wiersz',\n          merge_cells: 'Pocz komrki',\n          split_cell: 'Rozdziel komrki',\n          delete_table: 'Usu tabel',\n        },\n      },\n      Indent: {\n        buttons: {\n          indent: {\n            tooltip: 'Zwiksz wcicie',\n          },\n          outdent: {\n            tooltip: 'Zmniejsz wcicie',\n          },\n        },\n      },\n      FormatClear: {\n        tooltip: 'Wyczy formatowanie',\n      },\n      HorizontalRule: {\n        tooltip: 'Linia pozioma',\n      },\n      History: {\n        tooltip: {\n          undo: 'Cofnij',\n          redo: 'Powtrz',\n        },\n      },\n      Fullscreen: {\n        tooltip: {\n          fullscreen: 'Peny ekran',\n          exit_fullscreen: 'Zamknij peny ekran',\n        },\n      },\n      Print: {\n        tooltip: 'Drukuj',\n      },\n      Preview: {\n        tooltip: 'Podgld',\n        dialog: {\n          title: 'Podgld',\n        },\n      },\n      SelectAll: {\n        tooltip: 'Zaznacz wszystko',\n      },\n    },\n    characters: 'Posta',\n  },\n};\n","// @ts-nocheck\nimport { warn } from '@/utils/console';\nimport en from './en';\nimport zh from './zh';\nimport pl from './pl';\n\nconst defaultLang = 'en';\nconst dictionary = {\n  en,\n  zh,\n  pl,\n};\n\nlet currentLang: object = dictionary[defaultLang];\n\nexport function useLang (l: string): void {\n  if (dictionary[l]) {\n    currentLang = dictionary[l];\n  } else {\n    warn(`Can't find the current language \"${l}\", Using language \"${defaultLang}\" by default. Welcome contribution to https://github.com/Leecason/element-tiptap`);\n    currentLang = dictionary[defaultLang];\n  }\n}\n\n// @ts-ignore\nexport function t (path: string): string | object {\n  const target = path.split('.').reduce((prev, curr) => {\n    // @ts-ignore\n    return prev[curr];\n  }, currentLang);\n\n  return target;\n}\n","import { ELEMENT_TIPTAP_TIP } from '@/constants';\n\nexport function warn (msg: string): void {\n  // eslint-disable-next-line no-console\n  console.warn(`${ELEMENT_TIPTAP_TIP} ${msg}`);\n}\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementTiptap.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementTiptap.vue?vue&type=style&index=0&lang=scss&\"","import { Component, Vue } from 'vue-property-decorator';\nimport { t } from '@/i18n/index';\n\n@Component\nexport default class i18nMixin extends Vue {\n  t (...args: any[]): string {\n    // @ts-ignore\n    return t.apply(this, args);\n  }\n};\n","export function noop (): void {}\n\nexport function clamp (val: number, min: number, max: number): number {\n  if (val < min) {\n    return min;\n  }\n  if (val > max) {\n    return max;\n  }\n  return val;\n}\n\nexport function readFileDataUrl (file: File): Promise<any> {\n  const reader = new FileReader();\n\n  return new Promise((resolve, reject) => {\n    // @ts-ignore\n    reader.onload = readerEvent => resolve(readerEvent.target.result);\n    reader.onerror = reject;\n\n    reader.readAsDataURL(file);\n  });\n}\n\n/**\n * Create a cached version of a pure function.\n */\nexport function cached (fn: Function): Function {\n  const cache = Object.create(null);\n\n  return function cachedFn (str: string): string {\n    const hit = cache[str];\n    return hit || (cache[str] = fn(str));\n  };\n}\n\n/**\n * Capitalize a string.\n */\nexport const capitalize = cached((str: string): string => {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n});\n","export const ELEMENT_TIPTAP_TIP = '[Element-Tiptap Tip]';\n\nexport const enum Alignment {\n  left = 'left',\n  center = 'center',\n  right = 'right',\n  justify = 'justify'\n}\nexport const ALIGN_PATTERN: RegExp = new RegExp(`(${Alignment.left}|${Alignment.center}|${Alignment.right}|${Alignment.justify})`);\n\nexport const LINE_HEIGHT_100 = 1.7;\nexport const DEFAULT_LINE_HEIGHT = '100%';\n\nexport const PREDEFINED_COLORS: string[] = [\n  '#f44336',\n  '#e91e63',\n  '#9c27b0',\n  '#673ab7',\n  '#3f51b5',\n  '#2196f3',\n  '#03a9f4',\n  '#00bcd4',\n  '#009688',\n  '#4caf50',\n  '#8bc34a',\n  '#cddc39',\n  '#ffeb3b',\n  '#ffc107',\n  '#ff9800',\n  '#ff5722',\n];\n\nexport const enum EVENTS {\n  INIT = 'init',\n  TRANSACTION = 'transaction',\n  FOCUS = 'focus',\n  BLUR = 'blur',\n  PASTE = 'paste',\n  DROP = 'drop',\n  UPDATE = 'update',\n};\n\nexport const PREVIEW_WINDOW_WIDTH: string = '80vw';\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.editor)?_c('div',{staticClass:\"el-tiptap-editor\"},[_c('menu-bubble',{attrs:{\"editor\":_vm.editor}}),_c('menu-bar',{attrs:{\"editor\":_vm.editor},scopedSlots:_vm._u([(_vm.$scopedSlots.menubar)?{key:\"default\",fn:function(slotProps){return [_vm._t(\"menubar\",null,null,slotProps)]}}:null],null,true)}),_c('editor-content',{staticClass:\"el-tiptap-editor__content\",attrs:{\"editor\":_vm.editor}}),_vm._t(\"footer\",[_c('div',{staticClass:\"el-tiptap-editor__footer\"},[_c('span',{staticClass:\"el-tiptap-editor__characters\"},[_vm._v(\" \"+_vm._s(_vm.t('editor.characters'))+\": \"+_vm._s(_vm.characters)+\" \")])])],{\"editor\":_vm.editor})],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Extension } from 'tiptap';\nimport { Plugin } from 'prosemirror-state';\n\nexport default class ContentAttributes extends Extension {\n  get name () {\n    return 'content_attributes';\n  }\n\n  get defaultOptions () {\n    return {\n      spellcheck: true,\n    };\n  }\n\n  get plugins () {\n    return [\n      new Plugin({\n        props: {\n          attributes: {\n            ...this.options,\n          },\n        },\n      }),\n    ];\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('editor-menu-bar',{attrs:{\"editor\":_vm.editor},scopedSlots:_vm._u([{key:\"default\",fn:function(editorContext){return [_vm._t(\"default\",[_c('div',{staticClass:\"el-tiptap-editor__menu-bar\"},_vm._l((_vm.generateCommandButtonComponentSpecs(editorContext)),function(spec,i){return _c(spec.component,_vm._g(_vm._b({key:'command-button' + i,tag:\"component\"},'component',spec.componentProps,false),spec.componentEvents))}),1)],null,editorContext)]}}],null,true)})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { Editor, EditorMenuBar, MenuData } from 'tiptap';\nimport { MenuBtnViewType } from '@/../types';\n\n@Component({\n  components: {\n    EditorMenuBar,\n  },\n})\nexport default class Menubar extends Vue {\n  @Prop({\n    type: Editor,\n    required: true,\n  })\n  readonly editor!: Editor;\n\n  private generateCommandButtonComponentSpecs (editorContext: MenuData): MenuBtnViewType[] {\n    const extensionManager = this.editor.extensions;\n    return extensionManager.extensions.reduce <MenuBtnViewType[]>((acc, extension) => {\n      if (typeof extension.menuBtnView !== 'function') return acc;\n\n      const menuBtnComponentSpec = extension.menuBtnView({\n        ...editorContext,\n        editor: this.editor,\n      });\n      if (Array.isArray(menuBtnComponentSpec)) {\n        return [\n          ...acc,\n          ...menuBtnComponentSpec,\n        ];\n      }\n\n      return [\n        ...acc,\n        menuBtnComponentSpec,\n      ];\n    }, []);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=688fdf8a&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('editor-menu-bubble',{attrs:{\"editor\":_vm.editor,\"keep-in-bounds\":false},scopedSlots:_vm._u([{key:\"default\",fn:function(editorContext){return [_c('div',{staticClass:\"el-tiptap-editor__menu-bubble\",class:{\n      'el-tiptap-editor__menu-bubble--active':\n        editorContext.menu.isActive && (_vm.showLinkMenu || _vm.showTextMenu),\n    },style:((\"\\n      left: \" + (editorContext.menu.left) + \"px;\\n      bottom: \" + (editorContext.menu.bottom + 10) + \"px;\\n    \"))},[(_vm.showLinkMenu)?_c('link-bubble-menu',{attrs:{\"editorContext\":editorContext}}):(_vm.showTextMenu)?_vm._l((_vm.generateCommandButtonComponentSpecs(editorContext)),function(spec,i){return _c(spec.component,_vm._b({key:'command-button' + i,tag:\"component\"},'component',spec.componentProps,false))}):_vm._e()],2)]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"link-bubble-menu\"},[_c('open-link-command-button',{attrs:{\"url\":_vm.url}}),_c('edit-link-command-button',{attrs:{\"editor-context\":_vm.editorContext,\"init-url\":_vm.url}}),_c('unlink-command-button',{attrs:{\"editor-context\":_vm.editorContext}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('command-button',{attrs:{\"command\":_vm.openLink,\"tooltip\":_vm.t('editor.extensions.Link.open.tooltip'),\"icon\":\"external-link-alt\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\nimport { Component, Prop, Mixins } from 'vue-property-decorator';\nimport i18nMixin from '@/mixins/i18nMixin';\nimport CommandButton from './CommandButton.vue';\n\n@Component({\n  components: {\n    CommandButton,\n  },\n})\nexport default class OpenLinkCommandButton extends Mixins(i18nMixin) {\n  @Prop({\n    type: String,\n    required: true,\n  })\n  readonly url!: string;\n\n  openLink () {\n    if (this.url) {\n      window.open(this.url);\n    }\n  }\n};\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OpenLinkCommandButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OpenLinkCommandButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./OpenLinkCommandButton.vue?vue&type=template&id=029491e4&\"\nimport script from \"./OpenLinkCommandButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./OpenLinkCommandButton.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('command-button',{attrs:{\"command\":_vm.openApplyLinkControl,\"tooltip\":_vm.t('editor.extensions.Link.edit.tooltip'),\"icon\":\"edit\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\nimport { Component, Prop, Mixins } from 'vue-property-decorator';\nimport { MessageBox } from 'element-ui';\nimport { MenuData } from 'tiptap';\nimport i18nMixin from '@/mixins/i18nMixin';\nimport CommandButton from './CommandButton.vue';\n\n@Component({\n  components: {\n    CommandButton,\n  },\n})\nexport default class EditLinkCommandButton extends Mixins(i18nMixin) {\n  @Prop({\n    type: Object,\n    required: true,\n  })\n  readonly editorContext!: MenuData;\n\n  @Prop({\n    type: String,\n    required: true,\n  })\n  readonly initUrl!: string;\n\n  openApplyLinkControl (): void {\n    MessageBox.prompt('', this.t('editor.extensions.Link.edit.control.title'), {\n      confirmButtonText: this.t('editor.extensions.Link.edit.control.confirm'),\n      cancelButtonText: this.t('editor.extensions.Link.edit.control.cancel'),\n      inputPlaceholder: this.t('editor.extensions.Link.edit.control.placeholder'),\n      inputValue: this.initUrl,\n      roundButton: true,\n    // @ts-ignore\n    }).then(({ value: href }) => {\n      this.editorContext.commands.link({ href });\n    }).catch(() => {\n\n    });\n  }\n};\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditLinkCommandButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditLinkCommandButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EditLinkCommandButton.vue?vue&type=template&id=673916c2&\"\nimport script from \"./EditLinkCommandButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./EditLinkCommandButton.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('command-button',{attrs:{\"command\":_vm.editorContext.commands.unlink,\"tooltip\":_vm.t('editor.extensions.Link.unlink.tooltip'),\"icon\":\"unlink\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\nimport { Component, Prop, Mixins } from 'vue-property-decorator';\nimport { MenuData } from 'tiptap';\nimport i18nMixin from '@/mixins/i18nMixin';\nimport CommandButton from './CommandButton.vue';\n\n@Component({\n  components: {\n    CommandButton,\n  },\n})\nexport default class UnlinkCommandButton extends Mixins(i18nMixin) {\n  @Prop({\n    type: Object,\n    required: true,\n  })\n  readonly editorContext!: MenuData;\n};\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnlinkCommandButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnlinkCommandButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UnlinkCommandButton.vue?vue&type=template&id=7fef9c3e&\"\nimport script from \"./UnlinkCommandButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./UnlinkCommandButton.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { MenuData } from 'tiptap';\nimport OpenLinkCommandButton from '@/components/MenuCommands/OpenLinkCommandButton.vue';\nimport EditLinkCommandButton from '@/components/MenuCommands/EditLinkCommandButton.vue';\nimport UnlinkCommandButton from '@/components/MenuCommands/UnlinkCommandButton.vue';\n\n@Component({\n  components: {\n    OpenLinkCommandButton,\n    EditLinkCommandButton,\n    UnlinkCommandButton,\n  },\n})\nexport default class LinkBubbleMenu extends Vue {\n  @Prop({\n    type: Object,\n    required: true,\n  })\n  readonly editorContext!: MenuData;\n\n  private get url (): string {\n    const { getMarkAttrs } = this.editorContext;\n    const linkAttrs = getMarkAttrs('link');\n    return linkAttrs.href;\n  }\n};\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinkBubbleMenu.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinkBubbleMenu.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LinkBubbleMenu.vue?vue&type=template&id=1fe1d808&\"\nimport script from \"./LinkBubbleMenu.vue?vue&type=script&lang=ts&\"\nexport * from \"./LinkBubbleMenu.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./LinkBubbleMenu.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { TextSelection } from 'prosemirror-state';\nimport { Editor, EditorMenuBubble, MenuData } from 'tiptap';\n// @ts-ignore\nimport { getMarkRange } from 'tiptap-utils';\nimport { MenuBtnViewType } from '@/../types';\n\nimport LinkBubbleMenu from './LinkBubbleMenu.vue';\n\n@Component({\n  components: {\n    EditorMenuBubble,\n    LinkBubbleMenu,\n  },\n})\nexport default class MenuBubble extends Vue {\n  @Prop({\n    type: Editor,\n    required: true,\n  })\n  readonly editor!: Editor;\n\n  /* Only appears when link is selected separately */\n  private get showLinkMenu (): boolean {\n    const { state, schema } = this.editor;\n\n    if (schema.marks.link) {\n      const { tr } = state;\n      const { selection } = tr;\n\n      if (!selection) return false;\n\n      const { $from, $to } = selection;\n      const range = getMarkRange($from, schema.marks.link);\n      if (!range) return false;\n\n      return range.to === $to.pos;\n    }\n    return false;\n  }\n\n  private get showTextMenu (): boolean {\n    if (this.editor.state.selection instanceof TextSelection) {\n      const extensionManager = this.editor.extensions;\n      return extensionManager.extensions.some(extension => {\n        return extension.options.bubble;\n      });\n    }\n    return false;\n  }\n\n  private generateCommandButtonComponentSpecs (editorContext: MenuData): MenuBtnViewType[] {\n    const extensionManager = this.editor.extensions;\n    return extensionManager.extensions.reduce <MenuBtnViewType[]>((acc, extension) => {\n      if (!extension.options.bubble) return acc;\n      if (typeof extension.menuBtnView !== 'function') return acc;\n\n      const menuBtnComponentSpec = extension.menuBtnView({\n        ...editorContext,\n        editor: this.editor,\n      });\n      if (Array.isArray(menuBtnComponentSpec)) {\n        return [\n          ...acc,\n          ...menuBtnComponentSpec,\n        ];\n      }\n\n      return [\n        ...acc,\n        menuBtnComponentSpec,\n      ];\n    }, []);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7ccfe2c6&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Watch, Model, Mixins } from 'vue-property-decorator';\nimport { Editor, EditorContent, Extension, EditorUpdateEvent } from 'tiptap';\n\nimport { Placeholder } from 'tiptap-extensions';\nimport ContentAttributes from '@/extensions/content_attributes';\nimport { capitalize } from '@/utils/shared';\nimport { EVENTS } from '@/constants';\nimport i18nMixin from '@/mixins/i18nMixin';\n\nimport MenuBar from './MenuBar/index.vue';\nimport MenuBubble from './MenuBubble/index.vue';\n\nconst COMMON_EMIT_EVENTS: EVENTS[] = [\n  EVENTS.TRANSACTION,\n  EVENTS.FOCUS,\n  EVENTS.BLUR,\n  EVENTS.PASTE,\n  EVENTS.DROP,\n];\n\n@Component({\n  components: {\n    MenuBar,\n    MenuBubble,\n    EditorContent,\n  },\n})\nexport default class ElTiptap extends Mixins(i18nMixin) {\n  @Prop({\n    type: Array,\n    default: () => [],\n  })\n  readonly extensions!: any[];\n\n  @Model('onUpdate', {\n    type: String,\n    default: '',\n  })\n  readonly content!: string;\n\n  @Prop({\n    type: String,\n    default: '',\n  })\n  readonly placeholder!: string;\n\n  @Prop({\n    type: String,\n    default: 'html',\n    validator (output): boolean {\n      return ['html', 'json'].includes(output);\n    },\n  })\n  readonly output!: string;\n\n  @Prop({\n    type: Boolean,\n    default: false,\n  })\n  readonly readonly!: boolean;\n\n  @Prop({\n    type: Boolean,\n    default: undefined,\n  })\n  readonly spellcheck!: boolean | undefined;\n\n  editor: Editor | null = null;\n  emitAfterOnUpdate: boolean = false;\n\n  get characters (): number {\n    if (!this.editor) return 0;\n\n    return this.editor.state.doc.textContent.length;\n  }\n\n  @Watch('content')\n  onContentChange (val: string): void {\n    if (this.emitAfterOnUpdate) {\n      this.emitAfterOnUpdate = false;\n      return;\n    }\n\n    if (this.editor) this.editor.setContent(val);\n  }\n\n  @Watch('readonly')\n  onReadonlyChange (): void {\n    if (this.editor) {\n      this.editor.setOptions({\n        editable: !this.readonly,\n      });\n    }\n  }\n\n  private mounted () {\n    const extensions = this.generateExtensions();\n\n    const eventOptions = COMMON_EMIT_EVENTS.reduce((prev, event) => {\n      return {\n        ...prev,\n        [`on${capitalize(event)}`]: () => this.emitEvent.bind(this)(event),\n      };\n    }, {});\n\n    this.editor = new Editor({\n      editable: !this.readonly,\n      useBuiltInExtensions: false,\n      extensions,\n      content: this.content,\n      ...eventOptions,\n      onUpdate: this.onUpdate.bind(this),\n    });\n\n    this.$emit(this.genEvent(EVENTS.INIT), {\n      editor: this.editor,\n    });\n  }\n\n  private beforeDestroy () {\n    if (this.editor) this.editor.destroy();\n  }\n\n  private generateExtensions (): Array<Extension> {\n    let extensions: Extension[] = [];\n\n    const spellcheck = this.spellcheck == null\n      ? this.$elementTiptapPlugin.spellcheck\n      : this.spellcheck;\n\n    extensions = extensions.concat(\n      new ContentAttributes({\n        spellcheck,\n      }),\n    );\n    extensions = extensions.concat([...this.extensions]);\n\n    if (this.placeholder) {\n      extensions.push(\n        new Placeholder({\n          emptyEditorClass: 'el-tiptap-editor--empty',\n          emptyNodeClass: 'el-tiptap-editor__placeholder',\n          emptyNodeText: this.placeholder,\n        })\n      );\n    }\n\n    return extensions;\n  }\n\n  emitEvent (event: EVENTS) {\n    this.$emit(this.genEvent(event), {\n      editor: this.editor,\n    });\n  }\n\n  onUpdate (options: EditorUpdateEvent) {\n    this.emitAfterOnUpdate = true;\n\n    let output;\n    if (this.output === 'html') {\n      output = options.getHTML();\n    } else {\n      output = JSON.stringify(options.getJSON());\n    }\n\n    this.$emit(this.genEvent(EVENTS.UPDATE), output, options);\n  }\n\n  private genEvent (event: EVENTS) {\n    return `on${capitalize(event)}`;\n  }\n};\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementTiptap.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementTiptap.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementTiptap.vue?vue&type=template&id=fe49160a&\"\nimport script from \"./ElementTiptap.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementTiptap.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementTiptap.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-tooltip',{attrs:{\"content\":_vm.tooltip,\"open-delay\":350,\"transition\":\"el-zoom-in-bottom\",\"effect\":\"dark\",\"placement\":\"top\"}},[_c('div',{class:_vm.commandButtonClass,on:{\"mousedown\":function($event){$event.preventDefault();},\"click\":_vm.command}},[_c('v-icon',{attrs:{\"name\":_vm.icon}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Icon from 'vue-awesome/components/Icon.vue';\nimport 'vue-awesome/icons/heading';\nimport 'vue-awesome/icons/font';\nimport 'vue-awesome/icons/highlighter';\nimport 'vue-awesome/icons/bold';\nimport 'vue-awesome/icons/underline';\nimport 'vue-awesome/icons/italic';\nimport 'vue-awesome/icons/strikethrough';\nimport 'vue-awesome/icons/link';\nimport 'vue-awesome/icons/edit';\nimport 'vue-awesome/icons/unlink';\nimport 'vue-awesome/icons/external-link-alt';\nimport 'vue-awesome/icons/image';\nimport 'vue-awesome/icons/video';\nimport 'vue-awesome/icons/code';\nimport 'vue-awesome/icons/quote-right';\nimport 'vue-awesome/icons/align-left';\nimport 'vue-awesome/icons/align-center';\nimport 'vue-awesome/icons/align-right';\nimport 'vue-awesome/icons/align-justify';\nimport 'vue-awesome/icons/text-height';\nimport 'vue-awesome/icons/list-ul';\nimport 'vue-awesome/icons/list-ol';\nimport 'vue-awesome/icons/tasks';\nimport 'vue-awesome/icons/indent';\nimport 'vue-awesome/icons/outdent';\nimport 'vue-awesome/icons/minus';\nimport 'vue-awesome/icons/table';\nimport 'vue-awesome/icons/remove-format';\nimport 'vue-awesome/icons/undo';\nimport 'vue-awesome/icons/redo';\nimport 'vue-awesome/icons/expand';\nimport 'vue-awesome/icons/compress';\nimport 'vue-awesome/icons/print';\nimport 'vue-awesome/icons/eye';\nimport 'vue-awesome/icons/regular/object-group';\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { Tooltip } from 'element-ui';\nimport { noop } from '@/utils/shared';\n\n@Component({\n  components: {\n    'v-icon': Icon,\n    [Tooltip.name]: Tooltip,\n  },\n})\nexport default class CommandButton extends Vue {\n  @Prop({\n    type: String,\n    required: true,\n  })\n  readonly icon!: string;\n\n  @Prop({\n    type: Boolean,\n    default: false,\n  })\n  readonly isActive!: boolean;\n\n  @Prop({\n    type: String,\n    required: true,\n  })\n  readonly tooltip!: string;\n\n  @Prop({\n    type: Function,\n    default: noop,\n  })\n  readonly command!: Function;\n\n  private get commandButtonClass (): object {\n    return {\n      'el-tiptap-editor__command-button': true,\n      'el-tiptap-editor__command-button--active': this.isActive,\n    };\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommandButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommandButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CommandButton.vue?vue&type=template&id=548bba2a&\"\nimport script from \"./CommandButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./CommandButton.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinkBubbleMenu.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinkBubbleMenu.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=f227bea6&\"\nvar script = {}\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport VueRouter from 'vue-router';\n\nconst Index = () => import('../views/Index.vue');\nconst Simple = () => import('../views/Simple.vue');\nconst AllExtensions = () => import('../views/AllExtensions.vue');\nconst BubbleMenu = () => import('../views/BubbleMenu.vue');\nconst Placeholder = () => import('../views/Placeholder.vue');\nconst Readonly = () => import('../views/Readonly.vue');\nconst CustomMenubar = () => import('../views/CustomMenubar.vue');\nconst Event = () => import('../views/Event.vue');\nconst Output = () => import('../views/Output.vue');\n\nVue.use(VueRouter);\n\nconst routes = [\n  {\n    path: '/',\n    component: Index,\n    children: [\n      {\n        name: 'Simple',\n        path: '/',\n        component: Simple,\n      },\n      {\n        name: 'AllExtensions',\n        path: 'all_extensions',\n        component: AllExtensions,\n      },\n      {\n        name: 'BubbleMenu',\n        path: '/bubble_menu',\n        component: BubbleMenu,\n      },\n      {\n        name: 'Placeholder',\n        path: '/placeholder',\n        component: Placeholder,\n      },\n      {\n        name: 'Readonly',\n        path: '/readonly',\n        component: Readonly,\n      },\n      {\n        name: 'CustomMenubar',\n        path: '/custom_menubar',\n        component: CustomMenubar,\n      },\n      {\n        name: 'Event',\n        path: '/event',\n        component: Event,\n      },\n      {\n        name: 'Output',\n        path: '/output',\n        component: Output,\n      },\n    ],\n  },\n];\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes,\n});\n\nexport default router;\n","import Vue from 'vue';\nimport {\n  // layout\n  Container,\n  Header,\n  Main,\n  Footer,\n  Button,\n} from 'element-ui';\n\nimport { ElementTiptapPlugin } from 'element-tiptap';\nimport App from './App.vue';\nimport router from './router';\n\nVue.use(Container);\nVue.use(Header);\nVue.use(Main);\nVue.use(Footer);\nVue.use(Button);\n\nVue.use(ElementTiptapPlugin);\n\nVue.config.productionTip = false;\n\nnew Vue({\n  router,\n  render: h => h(App),\n}).$mount('#app');\n","import { ElementTiptapPluginInterface } from '../types';\nimport { useLang } from '@/i18n/index';\nimport ElementTiptap from '@/components/ElementTiptap.vue';\n\nconst ElementTiptapPlugin: ElementTiptapPluginInterface = {\n  installed: false,\n  spellcheck: true,\n\n  install (Vue, options = {}) {\n    const { lang } = options;\n    if (lang) useLang(lang);\n\n    this.spellcheck = options.spellcheck == null\n      ? true\n      : options.spellcheck;\n\n    Vue.component('el-tiptap', ElementTiptap);\n    Vue.prototype.$elementTiptapPlugin = this;\n\n    this.installed = true;\n  },\n};\n\nexport * from '@/extensions/index';\n\nexport {\n  ElementTiptapPlugin,\n  ElementTiptap,\n};\n\n;(function autoInstall () {\n  let globalScope: any = null;\n\n  if (typeof window !== 'undefined') {\n    globalScope = window;\n    // @ts-ignore\n  } else if (typeof global !== 'undefined') {\n    // @ts-ignore\n    globalScope = global;\n  }\n  if (globalScope && globalScope.Vue) {\n    globalScope.Vue.use(ElementTiptapPlugin);\n  }\n})();\n"],"sourceRoot":""}